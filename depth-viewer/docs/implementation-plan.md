# Depth Viewer Webç‰ˆ å®Ÿè£…è¨ˆç”»

## ğŸ“Œ ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¤ã„ã¦

ã“ã‚Œã¯BTC-USDTæ¿æƒ…å ±ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§è¡¨ç¤ºã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆhttps://depth-viewer.vercel.app/ï¼‰ã®å®Ÿè£…è¨ˆç”»æ›¸ã§ã™ã€‚
å„æ®µéšã§å‹•ä½œç¢ºèªã‚’è¡Œã„ãªãŒã‚‰ã€ç¢ºå®Ÿã«æ©Ÿèƒ½ã‚’ç©ã¿ä¸Šã’ã¦ã„ãé–‹ç™ºæ‰‹æ³•ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚

**é‡è¦**: å®Ÿè£…ã‚’å§‹ã‚ã‚‹å‰ã«ã€å¿…ãšã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¨ä½“ã‚’èª­ã‚“ã§ãã ã•ã„ã€‚

## ğŸ¯ å®Ÿè£…æ–¹é‡

1. **æ®µéšçš„å®Ÿè£…**: 7ã¤ã®æ®µéšã«åˆ†ã‘ã¦ã€å„æ®µéšã§å‹•ä½œç¢ºèªã‚’è¡Œã†
2. **æ—¢å­˜è³‡ç”£ã®æ´»ç”¨**: Pythonã‚¢ãƒ—ãƒªã®ãƒ‡ã‚¶ã‚¤ãƒ³ã¨è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¸è¥²
3. **èªè¨¼ãªã—**: URLã‚’çŸ¥ã£ã¦ã„ã‚Œã°èª°ã§ã‚‚é–²è¦§å¯èƒ½ï¼ˆç¬¬1ç‰ˆï¼‰
4. **ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã§å…¨ãƒ‡ãƒã‚¤ã‚¹å¯¾å¿œ
5. **UIé…ç½®ã®åŸå‰‡**: 
   - ç¾åœ¨ã®å¸‚å ´æƒ…å ±ã‚’æœ€ä¸Šéƒ¨ã«é…ç½®ï¼ˆä¾¡æ ¼ã€æ¿ã®çŠ¶æ…‹ãªã©ï¼‰
   - ã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ é¸æŠã‚’ãã®ä¸‹ã«é…ç½®
   - ã‚°ãƒ©ãƒ•ã‚’ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã—ã¦ä¸­å¤®ã«é…ç½®
   - è©³ç´°ãƒ‡ãƒ¼ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’æœ€ä¸‹éƒ¨ã«é…ç½®

## ğŸ“ å®Ÿè£…ã®å‰ææ¡ä»¶

**é‡è¦**: å®Ÿè£…ã‚’é–‹å§‹ã™ã‚‹å‰ã«ã€ä»¥ä¸‹ã®å‰ææ¡ä»¶ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç’°å¢ƒ
- Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€Œdepthã€ãŒç¨¼åƒä¸­
- **Supabase MCPãƒ„ãƒ¼ãƒ«ä½¿ç”¨æ™‚**: å¿…ãšãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID `rijqtostuemonbfcntck` ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨
- ä»¥ä¸‹ã®ãƒ†ãƒ¼ãƒ–ãƒ«ãŒå­˜åœ¨ã—ã€ãƒ‡ãƒ¼ã‚¿ãŒç¶™ç¶šçš„ã«è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ï¼š
  - `order_book_shared` - 5åˆ†è¶³ãƒ‡ãƒ¼ã‚¿
  - `order_book_15min` - 15åˆ†è¶³ãƒ‡ãƒ¼ã‚¿
  - `order_book_30min` - 30åˆ†è¶³ãƒ‡ãƒ¼ã‚¿
  - `order_book_1hour` - 1æ™‚é–“è¶³ãƒ‡ãƒ¼ã‚¿
  - `order_book_2hour` - 2æ™‚é–“è¶³ãƒ‡ãƒ¼ã‚¿
  - `order_book_4hour` - 4æ™‚é–“è¶³ãƒ‡ãƒ¼ã‚¿
  - `order_book_daily` - æ—¥è¶³ãƒ‡ãƒ¼ã‚¿
- å„ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã¯ä»¥ä¸‹ã®ã‚«ãƒ©ãƒ ãŒå­˜åœ¨ï¼š
  - `id`, `timestamp`, `ask_total`, `bid_total`, `price`, `group_id`
- group_idã¯ã€Œdefault-groupã€ã§çµ±ä¸€
- **APIåˆ¶é™**: 1ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚ãŸã‚Šæœ€å¤§1000è¡Œã¾ã§ï¼ˆç„¡æ–™ãƒ»æœ‰æ–™ãƒ—ãƒ©ãƒ³å…±é€šï¼‰
- **å„æ™‚é–“è¶³ã§ã®è£œå®Œå¯èƒ½æœŸé–“ï¼ˆ1000è¡Œåˆ¶é™ï¼‰**:
  - 5åˆ†è¶³: ç´„3.5æ—¥åˆ†
  - 15åˆ†è¶³: ç´„10.4æ—¥åˆ†
  - 30åˆ†è¶³: ç´„20.8æ—¥åˆ†
  - 1æ™‚é–“è¶³: ç´„41.7æ—¥åˆ†
  - 2æ™‚é–“è¶³: ç´„83.3æ—¥åˆ†
  - 4æ™‚é–“è¶³: ç´„166.7æ—¥åˆ†
  - æ—¥è¶³: ç´„2.7å¹´åˆ†

### ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒª
- Pythonã‚¹ã‚¯ãƒ¬ãƒ¼ãƒ‘ãƒ¼ãŒ5åˆ†ã”ã¨ã«ãƒ‡ãƒ¼ã‚¿ã‚’åé›†
- å„æ™‚é–“è¶³ã®ãƒ‡ãƒ¼ã‚¿ã‚’äº‹å‰é›†ç´„ã—ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿
- è©³ç´°ã¯[ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªä»•æ§˜æ›¸](./desktop-app-spec.md)ã‚’å‚ç…§

### é–‹ç™ºç’°å¢ƒ
- Node.js 18ä»¥ä¸ŠãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
- Vercelã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒè¨­å®šæ¸ˆã¿
- GitHubãƒªãƒã‚¸ãƒˆãƒªã¨é€£æºæ¸ˆã¿

## ğŸ“‹ å®Ÿè£…æ®µéš

**æ³¨æ„**: ç¬¬3æ®µéšã®ã‚°ãƒ©ãƒ•å®Ÿè£…ãŒå¤§ããå¤‰æ›´ã•ã‚Œã¦ã„ã¾ã™ï¼ˆ2ã¤ã®ç‹¬ç«‹ã‚°ãƒ©ãƒ• â†’ 1ã¤ã®çµ±åˆã‚°ãƒ©ãƒ•ï¼‰

### ç¬¬1æ®µéšï¼šSupabaseæ¥ç¶šç¢ºèª ğŸ¯é›£æ˜“åº¦: 15/100

#### ç›®æ¨™
Supabaseã«æ¥ç¶šã—ã€ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚

#### ã‚¿ã‚¹ã‚¯
- Supabase Anon Keyã®å–å¾—ã¨ç’°å¢ƒå¤‰æ•°è¨­å®š
- Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®åˆæœŸåŒ–
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ™‚é–“è¶³ï¼ˆ1æ™‚é–“è¶³ï¼‰ã‹ã‚‰æœ€æ–°10ä»¶ã®ãƒ‡ãƒ¼ã‚¿å–å¾—ã®ã¿
- ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ‡ãƒ¼ã‚¿ã‚’å‡ºåŠ›

#### ç¢ºèªé …ç›®
```
âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ç¢ºèªæŒ‡ç¤ºï¼š
ã€Œå®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š
1. npm run dev ã§ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
2. http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
3. F12ã‚­ãƒ¼ã§é–‹ç™ºè€…ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’é–‹ã
4. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ä»¥ä¸‹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼š
   - "Supabase connected successfully"
   - å„æ™‚é–“è¶³ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿ï¼ˆ5åˆ†è¶³ã€15åˆ†è¶³ã€30åˆ†è¶³ã€1æ™‚é–“è¶³ã€2æ™‚é–“è¶³ã€4æ™‚é–“è¶³ã€æ—¥è¶³ï¼‰
5. ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ãªã„

å•é¡Œãªã‘ã‚Œã°OKã§ã™ï¼ã€
```

---

### ç¬¬2æ®µéšï¼šãƒ‡ãƒ¼ã‚¿å–å¾—ã¨è¡¨ç¤º ğŸ¯é›£æ˜“åº¦: 25/100

#### ç›®æ¨™
é¸æŠã—ãŸæ™‚é–“è¶³ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã€ç”»é¢ä¸Šã«ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ã§è¡¨ç¤ºã™ã‚‹ã€‚

#### ã‚¿ã‚¹ã‚¯
- **ãƒ‡ãƒ¼ã‚¿å–å¾—ã®å®Ÿè£…**
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ™‚é–“è¶³ï¼ˆ1æ™‚é–“è¶³ï¼‰ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰å–å¾—
  - æœ€æ–°1000ä»¶ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ï¼ˆåˆæœŸè¡¨ç¤ºç”¨ï¼‰
  - å–å¾—å¾Œã€ãƒ‡ãƒ¼ã‚¿ã‚’æ™‚ç³»åˆ—é †ï¼ˆå¤ã„â†’æ–°ã—ã„ï¼‰ã«ã‚½ãƒ¼ãƒˆ
- **ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤ºã®å®Ÿè£…ï¼ˆç¢ºèªç”¨ãƒ»ä¸€æ™‚çš„ï¼‰**
  - ãƒ†ãƒ¼ãƒ–ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆ
  - æœ€æ–°100ä»¶ã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ†ãƒ¼ãƒ–ãƒ«ã«è¡¨ç¤º
  - timestampã€å£²ã‚Šæ¿ã€è²·ã„æ¿ã€ä¾¡æ ¼ã‚’è¡¨ç¤º
  - è²·ã„/å£²ã‚Šæ¯”ç‡ã®è¨ˆç®—ã¨è¡¨ç¤º
  - æœ€çµ‚æ›´æ–°æ™‚åˆ»ã®è¡¨ç¤º
  - **æ³¨æ„**: ã“ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã¯ç¬¬6æ®µéšã§å‰Šé™¤äºˆå®š

#### ç¢ºèªé …ç›®
```
âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ç¢ºèªæŒ‡ç¤ºï¼š
ã€Œå®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š
1. http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ãƒšãƒ¼ã‚¸ä¸Šéƒ¨ã«ç¾åœ¨ã®æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼š
   - æœ€æ–°ä¾¡æ ¼ï¼ˆä¾‹ï¼š$117,721ï¼‰
   - å£²ã‚Šæ¿ç·é‡ï¼ˆä¾‹ï¼š7,502 BTCï¼‰
   - è²·ã„æ¿ç·é‡ï¼ˆä¾‹ï¼š13,945 BTCï¼‰
   - è²·ã„/å£²ã‚Šæ¯”ç‡ï¼ˆä¾‹ï¼š1.86ï¼‰
3. ãƒ†ãƒ¼ãƒ–ãƒ«ã«100è¡Œã®ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹
4. å„è¡Œã«timestampã€askã€bidã€priceãŒè¡¨ç¤ºã•ã‚Œã‚‹
5. ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãŒæ—¥æœ¬æ™‚é–“ã§è¡¨ç¤ºã•ã‚Œã‚‹

ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°OKã§ã™ï¼ã€
```

---

### ç¬¬3æ®µéšï¼šçµ±åˆã‚°ãƒ©ãƒ•ã®å®Ÿè£… ğŸ¯é›£æ˜“åº¦: 45/100

#### ç›®æ¨™
Chart.jsã‚’ä½¿ç”¨ã—ã¦ã€å£²ã‚Šæ¿ãƒ»è²·ã„æ¿ãƒ»ä¾¡æ ¼ã‚’1ã¤ã®çµ±åˆã‚°ãƒ©ãƒ•ã§è¡¨ç¤ºã™ã‚‹ã€‚

#### ã‚¿ã‚¹ã‚¯
- Chart.jsãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨è¨­å®š
- **1ã¤ã®çµ±åˆã‚°ãƒ©ãƒ•ã®å®Ÿè£…**
  - 3ã¤ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆï¼ˆå£²ã‚Šæ¿ã€è²·ã„æ¿ã€ä¾¡æ ¼ï¼‰
  - åˆæœŸ1000ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã‚’è¡¨ç¤ºï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§è¿½åŠ å¯èƒ½ï¼‰
  - ãƒ†ãƒ¼ãƒ–ãƒ«ã¯ç¬¬2æ®µéšã®ã¾ã¾ç¶­æŒï¼ˆç¢ºèªç”¨ï¼‰
- å£²ã‚Šæ¿ï¼ˆèµ¤è‰²ï¼‰ã®å®Ÿè£…
  - **å³Yè»¸ã€åè»¢è¡¨ç¤ºï¼ˆå¤šã„ã»ã©ä¸‹ã«è¿«ã£ã¦ãã‚‹è¡¨ç¾ï¼‰**
- è²·ã„æ¿ï¼ˆç·‘è‰²ï¼‰ã®å®Ÿè£…
  - **å·¦Yè»¸ã€é€šå¸¸è¡¨ç¤º**
- ä¾¡æ ¼ï¼ˆç™½è‰²ï¼‰ã®å®Ÿè£…
  - **ä¸­å¤®Yè»¸ã¾ãŸã¯ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤è¡¨ç¤º**
  - ç·šã‚’å¤ªã‚ã«è¨­å®šï¼ˆè¦–èªæ€§å‘ä¸Šï¼‰
- Chart.jsã®è¤‡æ•°Yè»¸æ©Ÿèƒ½ã‚’æ´»ç”¨
- Xè»¸ï¼ˆæ™‚åˆ»ï¼‰ã®å…±é€šåŒ–
- ã‚°ãƒªãƒƒãƒ‰ç·šã¨ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒã®é©ç”¨
- ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ¢ãƒ¼ãƒ‰ã®è¨­å®šï¼ˆmode: 'index', intersect: falseï¼‰

#### ç¢ºèªé …ç›®
```
âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ç¢ºèªæŒ‡ç¤ºï¼š
ã€Œå®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š
1. http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ç”»é¢ä¸­å¤®ã«1ã¤ã®çµ±åˆã‚°ãƒ©ãƒ•ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼š
   - å£²ã‚Šæ¿ã®æ¨ç§»ï¼ˆèµ¤è‰²ã®ç·šã€å³Yè»¸ã€ä¸‹å‘ãã«æˆé•·ï¼‰
   - è²·ã„æ¿ã®æ¨ç§»ï¼ˆç·‘è‰²ã®ç·šã€å·¦Yè»¸ã€ä¸Šå‘ãã«æˆé•·ï¼‰
   - ä¾¡æ ¼ã®æ¨ç§»ï¼ˆç™½è‰²ã®ç·šã€ä¸­å¤®ã«è¡¨ç¤ºï¼‰
3. ã‚°ãƒ©ãƒ•ã®èƒŒæ™¯ãŒãƒ€ãƒ¼ã‚¯ï¼ˆ#1e1e1eï¼‰
4. **3ã¤ã®ãƒ‡ãƒ¼ã‚¿ãŒ1ã¤ã®ã‚°ãƒ©ãƒ•å†…ã«çµ±åˆè¡¨ç¤ºã•ã‚Œã‚‹**
5. ã‚°ãƒªãƒƒãƒ‰ç·šãŒè–„ãè¡¨ç¤ºã•ã‚Œã‚‹
6. Xè»¸ã«æ™‚åˆ»ã€è¤‡æ•°ã®Yè»¸ã«ãã‚Œãã‚Œã®å€¤ãŒè¡¨ç¤ºã•ã‚Œã‚‹
7. **å£²ã‚Šæ¿ã®åè»¢è¡¨ç¤ºãŒæ­£ã—ãå‹•ä½œã—ã¦ã„ã‚‹**
8. ãƒã‚¦ã‚¹ãƒ›ãƒãƒ¼ã§3ã¤ã®å€¤ãŒåŒæ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹
9. ã‚°ãƒ©ãƒ•ã«ç´„1000å€‹ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹
10. ä¾¡æ ¼ç·šãŒè¦–èªã—ã‚„ã™ã„

ã‚°ãƒ©ãƒ•ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°OKã§ã™ï¼ã€
```

---

### ç¬¬4æ®µéšï¼šã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ åˆ‡ã‚Šæ›¿ãˆï¼ˆé…å»¶èª­ã¿è¾¼ã¿ç‰ˆï¼‰ ğŸ¯é›£æ˜“åº¦: 35/100

#### ç›®æ¨™
æ™‚é–“è¶³ã®åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã€å¿…è¦ãªæ™‚ã®ã¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹åŠ¹ç‡çš„ãªã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã™ã‚‹ã€‚

#### ã‚¿ã‚¹ã‚¯
- ã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ é¸æŠãƒœã‚¿ãƒ³ã®è¿½åŠ 
- 5åˆ†è¶³ã€15åˆ†è¶³ã€30åˆ†è¶³ã€1æ™‚é–“è¶³ã€2æ™‚é–“è¶³ã€4æ™‚é–“è¶³ã€æ—¥è¶³ã®é¸æŠè‚¢
- **é…å»¶èª­ã¿è¾¼ã¿ã®å®Ÿè£…**
  - åˆæœŸè¡¨ç¤º: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ™‚é–“è¶³ï¼ˆ1æ™‚é–“è¶³ï¼‰ã®1000ä»¶ã®ã¿å–å¾—
  - æ™‚é–“è¶³åˆ‡ã‚Šæ›¿ãˆæ™‚: ãã®æ™‚é–“è¶³ã®ãƒ‡ãƒ¼ã‚¿ã‚’åˆã‚ã¦1000ä»¶å–å¾—
  - 2å›ç›®ä»¥é™: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰å³åº§ã«è¡¨ç¤º
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†**
  - å„æ™‚é–“è¶³ã”ã¨ã«ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¡ãƒ¢ãƒªã«ä¿æŒ
  - ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰ã§ã‚¯ãƒªã‚¢
- ã‚°ãƒ©ãƒ•ã®å†æç”»å‡¦ç†
- é¸æŠçŠ¶æ…‹ã®ä¿æŒï¼ˆlocalStorageä½¿ç”¨ï¼‰
- UIé…ç½®ã®æœ€é©åŒ–ï¼ˆè«¸ã€…ã®æƒ…å ± â†’ ã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ  â†’ ã‚°ãƒ©ãƒ• ã®é †åºï¼‰

#### ç¢ºèªé …ç›®
```
âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ç¢ºèªæŒ‡ç¤ºï¼š
ã€Œå®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š
1. http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
2. UIã®é…ç½®é †åºãŒä»¥ä¸‹ã«ãªã£ã¦ã„ã‚‹ï¼š
   - æœ€æ–°ä¾¡æ ¼ãªã©ã®ç¾åœ¨æƒ…å ±ï¼ˆæœ€ä¸Šéƒ¨ï¼‰
   - ã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ é¸æŠãƒœã‚¿ãƒ³ï¼ˆãã®ä¸‹ï¼‰
   - ã‚°ãƒ©ãƒ•ï¼ˆãã®ä¸‹ï¼‰
3. ã€Œ5åˆ†è¶³ã€ã‚’é¸æŠï¼š
   - order_book_sharedãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
   - 5åˆ†ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
4. ã€Œ15åˆ†è¶³ã€ã‚’é¸æŠï¼š
   - order_book_15minãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
   - 15åˆ†ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
5. ã€Œ30åˆ†è¶³ã€ã‚’é¸æŠï¼š
   - order_book_30minãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
   - 30åˆ†ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
6. ã€Œ1æ™‚é–“è¶³ã€ã‚’é¸æŠï¼š
   - order_book_1hourãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
   - 1æ™‚é–“ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
7. ã€Œ2æ™‚é–“è¶³ã€ã‚’é¸æŠï¼š
   - order_book_2hourãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
   - 2æ™‚é–“ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
8. ã€Œ4æ™‚é–“è¶³ã€ã‚’é¸æŠï¼š
   - order_book_4hourãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
   - 4æ™‚é–“ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
9. ã€Œæ—¥è¶³ã€ã‚’é¸æŠï¼š
   - order_book_dailyãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
   - 1æ—¥ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
10. ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰å¾Œã‚‚é¸æŠãŒä¿æŒã•ã‚Œã‚‹

ã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ åˆ‡ã‚Šæ›¿ãˆãŒå‹•ä½œã™ã‚Œã°OKã§ã™ï¼ã€
```

---

### ç¬¬5æ®µéšï¼šãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼ˆãƒ¡ãƒ¢ãƒªç®¡ç†ä»˜ãï¼‰ ğŸ¯é›£æ˜“åº¦: 70/100

#### ç›®æ¨™
Supabase Realtimeã§WebSocketæ¥ç¶šã—ã€ãƒ‡ãƒ¼ã‚¿æ›´æ–°æ™‚ã«è‡ªå‹•çš„ã«ã‚°ãƒ©ãƒ•ã‚’æ›´æ–°ã™ã‚‹ã€‚ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’åˆ¶å¾¡ã™ã‚‹ã€‚

#### ã‚¿ã‚¹ã‚¯
- Supabase Realtimeè³¼èª­ã®è¨­å®š
- WebSocketæ¥ç¶šã®ç¢ºç«‹
- æ–°è¦ãƒ‡ãƒ¼ã‚¿å—ä¿¡æ™‚ã®å‡¦ç†
- ã‚°ãƒ©ãƒ•ã¸ã®ãƒ‡ãƒ¼ã‚¿è¿½åŠ ï¼ˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãï¼‰
- **ãƒ¡ãƒ¢ãƒªç®¡ç†ã®å®Ÿè£…**
  - å„æ™‚é–“è¶³ã§æœ€å¤§5000ä»¶ã¾ã§ä¿æŒ
  - 5000ä»¶ã‚’è¶…ãˆãŸã‚‰å¤ã„ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰å‰Šé™¤
  - ã€Œçª“ã‹ã‚‰è¦‹ãˆã‚‹æ™¯è‰²ã€ã®ã‚ˆã†ã«å¿…è¦ãªåˆ†ã ã‘ä¿æŒ
- æ¥ç¶šçŠ¶æ…‹ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã®è¡¨ç¤º
- æ¥ç¶šã‚¨ãƒ©ãƒ¼æ™‚ã®å†æ¥ç¶šå‡¦ç†

#### ç¢ºèªé …ç›®
```
âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ç¢ºèªæŒ‡ç¤ºï¼š
ã€Œå®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š
1. http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ãƒšãƒ¼ã‚¸å³ä¸Šã«æ¥ç¶šçŠ¶æ…‹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼š
   - ç·‘ã®â—ï¼šæ¥ç¶šä¸­
   - é»„ã®â—ï¼šæ¥ç¶šä¸­...
   - èµ¤ã®â—ï¼šåˆ‡æ–­
3. 5åˆ†é–“ãƒšãƒ¼ã‚¸ã‚’é–‹ã„ãŸã¾ã¾ã«ã™ã‚‹
4. 5åˆ†å¾Œã«ä»¥ä¸‹ãŒè‡ªå‹•çš„ã«èµ·ã“ã‚‹ï¼š
   - ã‚°ãƒ©ãƒ•ã«æ–°ã—ã„ãƒã‚¤ãƒ³ãƒˆãŒè¿½åŠ ã•ã‚Œã‚‹
   - æœ€æ–°ä¾¡æ ¼ãŒæ›´æ–°ã•ã‚Œã‚‹
   - ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰ã¯ä¸è¦
5. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä¸€æ™‚åˆ‡æ–­ã—ã¦å†æ¥ç¶šï¼š
   - è‡ªå‹•çš„ã«å†æ¥ç¶šã•ã‚Œã‚‹
   - ãƒ‡ãƒ¼ã‚¿ã®æ¬ æãŒãªã„

ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ãŒå‹•ä½œã™ã‚Œã°OKã§ã™ï¼
â€»Pythonã‚¹ã‚¯ãƒ¬ãƒ¼ãƒ‘ãƒ¼ãŒå‹•ä½œã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€
```

---

### ç¬¬6æ®µéšï¼šUI/UXã®æœ€é©åŒ– ğŸ¯é›£æ˜“åº¦: 40/100

#### ç›®æ¨™
ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã‚’å‘ä¸Šã•ã›ã€ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªè¦‹ãŸç›®ã«ä»•ä¸Šã’ã‚‹ã€‚

#### ã‚¿ã‚¹ã‚¯
- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ã®å®Ÿè£…
- ã‚¨ãƒ©ãƒ¼ç”»é¢ã®å®Ÿè£…ï¼ˆãƒ‡ãƒ¼ã‚¿å–å¾—å¤±æ•—æ™‚ï¼‰
- **ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤ºã®å‰Šé™¤ï¼ˆä¸è¦ãªUIè¦ç´ ã®æ•´ç†ï¼‰**
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã®èª¿æ•´
- ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ç”¨ã®ç¸¦ç”»é¢å¯¾å¿œ
- ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆç”¨ã®æœ€é©åŒ–
- **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³æ”¹å–„**
  - ç·šãƒ™ãƒ¼ã‚¹ã®å½“ãŸã‚Šåˆ¤å®šï¼ˆChart.js interaction mode: 'index'ï¼‰
  - ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã‚’ãƒ˜ãƒƒãƒ€ãƒ¼è¡¨ç¤ºã«å¤‰æ›´
  - Xè»¸ã«æ—¥ä»˜å¤‰æ›´ç‚¹ï¼ˆ0:00ï¼‰ã§æ—¥ä»˜è¡¨ç¤ºã‚’è¿½åŠ 
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

#### ç¢ºèªé …ç›®
```
âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ç¢ºèªæŒ‡ç¤ºï¼š
ã€Œå®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š

ã€ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã€‘
1. http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
2. åˆå›ãƒ­ãƒ¼ãƒ‰æ™‚ã«ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹
3. å…¨ä½“çš„ã«ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªè¦‹ãŸç›®
4. **ãƒ†ãƒ¼ãƒ–ãƒ«ãŒå‰Šé™¤ã•ã‚Œã¦ã‚°ãƒ©ãƒ•ã®ã¿è¡¨ç¤º**

ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³æ”¹å–„ã€‘
5. ã‚°ãƒ©ãƒ•ä¸Šã§ãƒã‚¦ã‚¹ã‚’æ¨ªã«å‹•ã‹ã™ã¨ç¸¦è»¸å…¨ä½“ã§ãƒ‡ãƒ¼ã‚¿ãŒé¸æŠã•ã‚Œã‚‹
6. ã‚°ãƒ©ãƒ•ã®Xè»¸ã‚’ãƒã‚¤ãƒ³ãƒˆã—ãªãã¦ã‚‚ã€ãã®æ™‚åˆ»ã®ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹
7. ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã§ã¯ãªãã€ç”»é¢ä¸Šéƒ¨ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã«æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã‚‹
8. Xè»¸ã®0:00ã®ä½ç½®ã«æ—¥ä»˜ï¼ˆä¾‹ï¼š01/19ï¼‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹

ã€ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã€‘
9. ã‚¹ãƒãƒ›ã§ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆã¾ãŸã¯é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ãƒ¢ãƒã‚¤ãƒ«è¡¨ç¤ºï¼‰
10. ã‚°ãƒ©ãƒ•ãŒç”»é¢å¹…ã«åã¾ã‚‹
11. ãƒ†ã‚­ã‚¹ãƒˆãŒèª­ã¿ã‚„ã™ã„ã‚µã‚¤ã‚º
12. ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒã‚¹ãƒ ãƒ¼ã‚º
13. ã‚¿ãƒƒãƒ—æ“ä½œãŒå¿«é©

ã€ã‚¨ãƒ©ãƒ¼å‡¦ç†ã€‘
14. Supabaseæ¥ç¶šã‚’åˆ‡æ–­ï¼ˆç’°å¢ƒå¤‰æ•°ã‚’ä¸€æ™‚çš„ã«å¤‰æ›´ï¼‰
15. ã‚¨ãƒ©ãƒ¼ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹
16. ã€Œå†è©¦è¡Œã€ãƒœã‚¿ãƒ³ãŒæ©Ÿèƒ½ã™ã‚‹

ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€‘
17. Lighthouseã‚¹ã‚³ã‚¢90ä»¥ä¸Š
18. åˆå›è¡¨ç¤º3ç§’ä»¥å†…

å…¨ã¦ã®é …ç›®ãŒç¢ºèªã§ãã‚Œã°OKã§ã™ï¼ã€
```

---

### ç¬¬7æ®µéšï¼šå‹•çš„ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰ ğŸ¯é›£æ˜“åº¦: 60/100

#### ç›®æ¨™
ã‚°ãƒ©ãƒ•ã‚’ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦éå»ã®ãƒ‡ãƒ¼ã‚¿ã‚’å‹•çš„ã«å–å¾—ã§ãã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹ã€‚

#### ã‚¿ã‚¹ã‚¯
- **chartjs-plugin-zoomã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
  - ãƒ‘ãƒ³ï¼ˆãƒ‰ãƒ©ãƒƒã‚°ï¼‰æ©Ÿèƒ½ã®æœ‰åŠ¹åŒ–
  - ã‚ºãƒ¼ãƒ æ©Ÿèƒ½ã‚‚åŒæ™‚ã«å®Ÿè£…
- **å‹•çš„ãƒ‡ãƒ¼ã‚¿å–å¾—ã®å®Ÿè£…**
  - å·¦ç«¯åˆ°é”ã‚’æ¤œçŸ¥
  - è¿½åŠ ã§1000ä»¶ã‚’å–å¾—ï¼ˆSupabase APIï¼‰
  - æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã®å·¦å´ã«è¿½åŠ 
- **ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒæ©Ÿèƒ½**
  - å·¦ç«¯ã®80%ã«åˆ°é”ã—ãŸã‚‰å…ˆèª­ã¿é–‹å§‹
  - ã‚¹ãƒ ãƒ¼ã‚ºãªä½“é¨“ã‚’æä¾›
- **ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼**
  - ãƒ‡ãƒ¼ã‚¿å–å¾—ä¸­ã®è¡¨ç¤º
  - ã‚°ãƒ©ãƒ•ä¸Šéƒ¨ã«å°ã•ãè¡¨ç¤º
- **ãƒ¡ãƒ¢ãƒªç®¡ç†ã®ç¶™ç¶š**
  - 5000ä»¶åˆ¶é™ã¯ç¶­æŒ
  - å³å´ã®å¤ã„ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤

#### ç¢ºèªé …ç›®
```
âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ç¢ºèªæŒ‡ç¤ºï¼š
ã€Œå®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š
1. ã‚°ãƒ©ãƒ•ã‚’ãƒã‚¦ã‚¹ã§ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦å·¦ã«ç§»å‹•
2. å·¦ç«¯ã«åˆ°é”ã™ã‚‹ã¨è‡ªå‹•çš„ã«éå»ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
3. ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã¯ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹
4. å–å¾—å¾Œã€ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«éå»ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹
5. ãƒã‚¦ã‚¹ãƒ›ã‚¤ãƒ¼ãƒ«ã§ã‚ºãƒ¼ãƒ ã‚¤ãƒ³/ã‚¢ã‚¦ãƒˆãŒå¯èƒ½
6. ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãŒå¢—ãˆã™ããªã„ï¼ˆ5000ä»¶åˆ¶é™ï¼‰
7. è¤‡æ•°å›ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ã‚‚å‹•ä½œãŒé‡ããªã‚‰ãªã„

å‹•çš„ãƒ‡ãƒ¼ã‚¿å–å¾—ãŒæ­£ã—ãå‹•ä½œã™ã‚Œã°OKã§ã™ï¼ã€
```

---

## âš ï¸ å®Ÿè£…ä¸Šã®é‡è¦ãªæ³¨æ„äº‹é …

### 1. ç’°å¢ƒå¤‰æ•°ã®ç®¡ç†
- **NEXT_PUBLIC_SUPABASE_URL**: å¿…é ˆ
- **NEXT_PUBLIC_SUPABASE_ANON_KEY**: å¿…é ˆ
- ãƒ­ãƒ¼ã‚«ãƒ«ã¯`.env.local`ã€æœ¬ç•ªã¯Vercelã§è¨­å®š

### 2. ãƒ‡ãƒ¼ã‚¿ã®æ‰±ã„
- ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã¯Supabaseã«JSTã§ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ï¼ˆPythonã‚¹ã‚¯ãƒ¬ãƒ¼ãƒ‘ãƒ¼ã«ã‚ˆã‚‹ï¼‰
- **é‡è¦**: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¡¨ç¤ºæ™‚ã¯ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å¤‰æ›ã‚’è¡Œã‚ãªã„
- group_idã¯ã€Œdefault-groupã€ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- å„æ™‚é–“è¶³ã®ãƒ‡ãƒ¼ã‚¿ã¯äº‹å‰é›†ç´„æ¸ˆã¿ï¼ˆã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ä¸è¦ï¼‰
- **ä¾¡æ ¼ãƒ‡ãƒ¼ã‚¿**: å„ãƒ¬ã‚³ãƒ¼ãƒ‰ã®`price`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä½¿ç”¨ï¼ˆã™ã§ã«å­˜åœ¨ï¼‰

### 3. ã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆæ™‚é–“è¶³ï¼‰ã®è¨­è¨ˆ
- **å®Ÿè£…ã™ã‚‹æ™‚é–“è¶³**: 5åˆ†è¶³ã€15åˆ†è¶³ã€30åˆ†è¶³ã€1æ™‚é–“è¶³ã€2æ™‚é–“è¶³ã€4æ™‚é–“è¶³ã€æ—¥è¶³ï¼ˆ7ç¨®é¡ï¼‰
- **é™¤å¤–ã™ã‚‹æ™‚é–“è¶³**: 1åˆ†è¶³ã¨3åˆ†è¶³ï¼ˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã®ãƒ­ãƒ¼ã‚«ãƒ«å°‚ç”¨ï¼‰
- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤**: 1æ™‚é–“è¶³ï¼ˆä¸­æœŸçš„ãªãƒˆãƒ¬ãƒ³ãƒ‰ã‚’æŠŠæ¡ã—ã‚„ã™ã„ï¼‰
- **é¸æŠçŠ¶æ…‹ã®ä¿æŒ**: LocalStorageã‚’ä½¿ç”¨ã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é¸æŠã‚’è¨˜æ†¶
- **ãƒ‡ãƒ¼ã‚¿å–å¾—æ–¹å¼**: 
  - åˆå›ã®ã¿å„æ™‚é–“è¶³ã®å°‚ç”¨ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰1000ä»¶å–å¾—
  - ä»¥é™ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä½¿ç”¨ï¼ˆé…å»¶èª­ã¿è¾¼ã¿ï¼‰
  - ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚ã«è¿½åŠ 1000ä»¶ãšã¤å–å¾—
- **ã‚°ãƒ©ãƒ•è¡¨ç¤ºä»•æ§˜**:
  - åˆæœŸè¡¨ç¤º: 1000ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
  - æœ€å¤§ä¿æŒ: 5000ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆï¼ˆãƒ¡ãƒ¢ãƒªç®¡ç†ï¼‰
  - ãƒ‡ãƒ¼ã‚¿ãŒ1000æœªæº€ã®å ´åˆã¯ã™ã¹ã¦è¡¨ç¤º

### 4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- **ãƒ‡ãƒ¼ã‚¿å–å¾—æˆ¦ç•¥**:
  - åˆæœŸãƒ­ãƒ¼ãƒ‰: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ™‚é–“è¶³1000ä»¶ã®ã¿å–å¾—
  - æ™‚é–“è¶³åˆ‡æ›¿: åˆå›ã®ã¿1000ä»¶å–å¾—ã€ä»¥é™ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä½¿ç”¨
  - å·¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚: è¿½åŠ ã§1000ä»¶ãšã¤å–å¾—
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥**:
  - å„æ™‚é–“è¶³ã”ã¨ã«ç‹¬ç«‹ã—ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥
  - ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰ã§ã‚¯ãƒªã‚¢
- **ãƒ¡ãƒ¢ãƒªç®¡ç†**:
  - å„æ™‚é–“è¶³ã§æœ€å¤§5000ä»¶ã¾ã§ä¿æŒ
  - è¶…éæ™‚ã¯å¤ã„ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰å‰Šé™¤
- **ã‚°ãƒ©ãƒ•è¡¨ç¤º**: å‹•çš„ï¼ˆåˆæœŸ1000ä»¶ã€æœ€å¤§5000ä»¶ï¼‰
- **ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤º**: ç¬¬2-5æ®µéšã®ã¿ï¼ˆç¬¬6æ®µéšã§å‰Šé™¤ï¼‰
- **ç›®æ¨™ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**:
  - åˆæœŸè¡¨ç¤º: 1ç§’ä»¥å†…ï¼ˆ1000ä»¶ã®ã¿ï¼‰
  - æ™‚é–“è¶³åˆ‡æ›¿: åˆå›1ç§’ä»¥å†…ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ™‚ã¯å³åº§
  - è¿½åŠ ãƒ‡ãƒ¼ã‚¿å–å¾—: 1ç§’ä»¥å†…

### 5. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- Row Level Security (RLS)ã¯ç¾åœ¨ç„¡åŠ¹
- å°†æ¥çš„ã«èªè¨¼æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹å ´åˆã¯æœ‰åŠ¹åŒ–
- Anon Keyã¯å…¬é–‹å¯èƒ½ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰

## ğŸ”§ å®Ÿè£…è©³ç´°

### ãƒ‡ãƒ¼ã‚¿å–å¾—å®Ÿè£…

```javascript
// æ™‚é–“è¶³ã«å¿œã˜ãŸãƒ†ãƒ¼ãƒ–ãƒ«é¸æŠ
const getTableName = (timeframe) => {
  const tables = {
    '5min': 'order_book_shared',
    '15min': 'order_book_15min',
    '30min': 'order_book_30min',
    '1hour': 'order_book_1hour',
    '2hour': 'order_book_2hour',
    '4hour': 'order_book_4hour',
    '1day': 'order_book_daily'
  };
  return tables[timeframe];
}

// ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆåˆå›ãƒ»è¿½åŠ å…±é€šï¼‰
const fetchTimeframeData = async (timeframe, count = 1000, before = null) => {
  const tableName = getTableName(timeframe);
  let query = supabase
    .from(tableName)
    .select('*')
    .eq('group_id', 'default-group')
    .order('timestamp', { ascending: false })
    .limit(count);
  
  // éå»ãƒ‡ãƒ¼ã‚¿å–å¾—æ™‚
  if (before) {
    query = query.lt('timestamp', before);
  }
    
  const { data, error } = await query;
  if (error) throw error;
  return data;
}
```

### ã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£…

```javascript
// æ™‚é–“è¶³ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆæ‹¡å¼µç‰ˆï¼‰
const [dataCache, setDataCache] = useState({
  '5min': { data: [], oldestTimestamp: null },
  '15min': { data: [], oldestTimestamp: null },
  '30min': { data: [], oldestTimestamp: null },
  '1hour': { data: [], oldestTimestamp: null },
  '2hour': { data: [], oldestTimestamp: null },
  '4hour': { data: [], oldestTimestamp: null },
  '1day': { data: [], oldestTimestamp: null }
});

// æ™‚é–“è¶³åˆ‡æ›¿æ™‚ã®å‡¦ç†ï¼ˆé…å»¶èª­ã¿è¾¼ã¿ï¼‰
const handleTimeframeChange = async (timeframe) => {
  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚§ãƒƒã‚¯
  if (dataCache[timeframe].data.length > 0) {
    setDisplayData(dataCache[timeframe].data);
    return;
  }
  
  // åˆå›å–å¾—ï¼ˆ1000ä»¶ï¼‰
  const data = await fetchTimeframeData(timeframe, 1000);
  setDataCache(prev => ({
    ...prev,
    [timeframe]: {
      data: data,
      oldestTimestamp: data[data.length - 1]?.timestamp
    }
  }));
  setDisplayData(data);
}

// éå»ãƒ‡ãƒ¼ã‚¿è¿½åŠ å–å¾—ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚ï¼‰
const loadMoreData = async (timeframe) => {
  const cache = dataCache[timeframe];
  if (!cache.oldestTimestamp) return;
  
  // è¿½åŠ 1000ä»¶å–å¾—
  const moreData = await fetchTimeframeData(
    timeframe, 
    1000, 
    cache.oldestTimestamp
  );
  
  // ãƒ¡ãƒ¢ãƒªç®¡ç†ï¼ˆ5000ä»¶åˆ¶é™ï¼‰
  let newData = [...moreData, ...cache.data];
  if (newData.length > 5000) {
    newData = newData.slice(0, 5000);
  }
  
  setDataCache(prev => ({
    ...prev,
    [timeframe]: {
      data: newData,
      oldestTimestamp: moreData[moreData.length - 1]?.timestamp
    }
  }));
  setDisplayData(newData);
}
```

### çµ±åˆã‚°ãƒ©ãƒ•è¨­å®šä¾‹

```javascript
// 3ã¤ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’æŒã¤1ã¤ã®ã‚°ãƒ©ãƒ•
const chartData = {
  labels: timestamps,
  datasets: [
    {
      label: 'å£²ã‚Šæ¿',
      data: askData,
      borderColor: 'red',
      yAxisID: 'y-ask'
    },
    {
      label: 'è²·ã„æ¿',
      data: bidData,
      borderColor: 'green',
      yAxisID: 'y-bid'
    },
    {
      label: 'ä¾¡æ ¼',
      data: priceData,
      borderColor: 'white',
      borderWidth: 2,
      yAxisID: 'y-price'
    }
  ]
};

const chartOptions = {
  interaction: {
    mode: 'index',        // ç¸¦è»¸å…¨ä½“ãŒå½“ãŸã‚Šåˆ¤å®š
    intersect: false      // ãƒã‚¤ãƒ³ãƒˆä¸Šã§ãªãã¦ã‚‚OK
  },
  scales: {
    'y-ask': {
      position: 'right',
      reverse: true,  // åè»¢è¡¨ç¤º
      grid: { drawOnChartArea: false }
    },
    'y-bid': {
      position: 'left',
      grid: { drawOnChartArea: false }
    },
    'y-price': {
      position: 'right',
      grid: { drawOnChartArea: false },
      ticks: { display: false }
    }
  }
};
```

### UIæ”¹å–„å®Ÿè£…

```javascript
// 1. ç·šãƒ™ãƒ¼ã‚¹ã®å½“ãŸã‚Šåˆ¤å®šï¼ˆç¸¦è»¸å…¨ä½“ã§ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—è¡¨ç¤ºï¼‰
const chartOptions = {
  interaction: {
    mode: 'index',        // ç¸¦è»¸å…¨ä½“ãŒå½“ãŸã‚Šåˆ¤å®š
    intersect: false      // ãƒã‚¤ãƒ³ãƒˆä¸Šã§ãªãã¦ã‚‚OK
  },
  // ...ä»–ã®è¨­å®š
};

// 2. ãƒ˜ãƒƒãƒ€ãƒ¼æƒ…å ±è¡¨ç¤ºï¼ˆãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã®ä»£æ›¿ï¼‰
const [hoveredData, setHoveredData] = useState(null);

const chartOptions = {
  onHover: (event, activeElements) => {
    if (activeElements.length > 0) {
      const dataIndex = activeElements[0].index;
      setHoveredData({
        time: timestamps[dataIndex],
        ask: askData[dataIndex],
        bid: bidData[dataIndex],
        price: priceData[dataIndex]
      });
    }
  },
  plugins: {
    tooltip: {
      enabled: false  // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚’ç„¡åŠ¹åŒ–
    }
  }
};

// ãƒ˜ãƒƒãƒ€ãƒ¼è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
<div className="header-info">
  <span>æ™‚åˆ»: {hoveredData?.time || latestData.time}</span>
  <span>å£²ã‚Šæ¿: {hoveredData?.ask || latestData.ask}</span>
  <span>è²·ã„æ¿: {hoveredData?.bid || latestData.bid}</span>
  <span>ä¾¡æ ¼: {hoveredData?.price || latestData.price}</span>
</div>

// 3. Xè»¸ã«æ—¥ä»˜è¡¨ç¤ºã‚’è¿½åŠ 
const chartOptions = {
  scales: {
    x: {
      ticks: {
        callback: function(value, index) {
          const timestamp = timestamps[index];
          const time = timestamp.split('T')[1].substring(0, 5);
          
          // 0:00ã®å ´åˆã¯æ—¥ä»˜ã‚‚è¡¨ç¤º
          if (time === '00:00') {
            const date = timestamp.split('T')[0];
            const [year, month, day] = date.split('-');
            return `${month}/${day}`;
          }
          
          return time;
        },
        autoSkip: false,
        maxRotation: 45,
        minRotation: 45
      }
    }
  }
};
```

### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°å®Ÿè£…

```javascript
// Realtimeè³¼èª­ï¼ˆãƒ¡ãƒ¢ãƒªç®¡ç†ä»˜ãï¼‰
useEffect(() => {
  const channel = supabase
    .channel('order-book-changes')
    .on(
      'postgres_changes',
      {
        event: 'INSERT',
        schema: 'public',
        table: getTableName(selectedTimeframe),
        filter: `group_id=eq.default-group`
      },
      (payload) => {
        // æ–°è¦ãƒ‡ãƒ¼ã‚¿ã‚’æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã«è¿½åŠ 
        handleNewData(payload.new);
        
        // ãƒ¡ãƒ¢ãƒªç®¡ç†ï¼ˆ5000ä»¶è¶…éæ™‚ã«å¤ã„ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ï¼‰
        if (currentData.length > 5000) {
          setData(prev => prev.slice(-5000));
        }
      }
    )
    .subscribe();

  return () => {
    supabase.removeChannel(channel);
  };
}, [selectedTimeframe]);
```

## ğŸ“Š ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ 

```sql
-- å„ãƒ†ãƒ¼ãƒ–ãƒ«å…±é€šã®æ§‹é€ 
CREATE TABLE order_book_[timeframe] (
  id SERIAL PRIMARY KEY,
  timestamp TIMESTAMP WITH TIME ZONE NOT NULL,
  ask_total NUMERIC NOT NULL,
  bid_total NUMERIC NOT NULL,
  price NUMERIC NOT NULL,
  group_id VARCHAR(50) DEFAULT 'default-group',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  UNIQUE(timestamp, group_id)
);

-- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_[timeframe]_timestamp ON order_book_[timeframe](timestamp DESC);
CREATE INDEX idx_[timeframe]_group_id ON order_book_[timeframe](group_id);
```

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [Supabaseå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://supabase.com/docs)
- [Next.jså…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://nextjs.org/docs)
- [Chart.jså…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.chartjs.org/docs/)
- [chartjs-plugin-zoomå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.chartjs.org/chartjs-plugin-zoom/)
- [ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªä»•æ§˜æ›¸](./desktop-app-spec.md)

---

## ğŸ”„ å¤‰æ›´å±¥æ­´

### 2025-01-19
- ç¬¬3æ®µéšã‚’ã€Œçµ±åˆã‚°ãƒ©ãƒ•ã€ã«å¤‰æ›´ï¼ˆ2ã¤ã®ç‹¬ç«‹ã‚°ãƒ©ãƒ• â†’ 1ã¤ã®çµ±åˆã‚°ãƒ©ãƒ•ï¼‰
- ç¬¬4æ®µéšã«ã€Œé…å»¶èª­ã¿è¾¼ã¿ã€æ©Ÿèƒ½ã‚’è¿½åŠ 
- ç¬¬5æ®µéšã«ã€Œãƒ¡ãƒ¢ãƒªç®¡ç†ã€æ©Ÿèƒ½ã‚’è¿½åŠ   
- ç¬¬6æ®µéšã«ã€Œãƒ†ãƒ¼ãƒ–ãƒ«å‰Šé™¤ã€ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ 
- ç¬¬6æ®µéšã«ã€Œã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³æ”¹å–„ã€ã‚’è¿½åŠ ï¼š
  - ç·šãƒ™ãƒ¼ã‚¹ã®å½“ãŸã‚Šåˆ¤å®šï¼ˆç¸¦è»¸å…¨ä½“ã§ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ï¼‰
  - ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã‚’ãƒ˜ãƒƒãƒ€ãƒ¼è¡¨ç¤ºã«å¤‰æ›´
  - Xè»¸ã®0:00ä½ç½®ã«æ—¥ä»˜è¡¨ç¤ºã‚’è¿½åŠ 
- ç¬¬7æ®µéšã€Œå‹•çš„ãƒ‡ãƒ¼ã‚¿å–å¾—ã€ã‚’æ–°è¦è¿½åŠ 
- ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’300ä»¶ â†’ 1000ä»¶ã«å¤‰æ›´
- ãƒ¡ãƒ¢ãƒªä¸Šé™ã‚’5000ä»¶ã«è¨­å®š
- ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤ºã‚’é–‹ç™ºæ®µéšã®ã¿ã«é™å®šï¼ˆç¬¬6æ®µéšã§å‰Šé™¤ï¼‰
- UIæ”¹å–„å®Ÿè£…ã®ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’è¿½åŠ 

---

**ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å®Ÿè£…ã®é€²æ—ã«å¿œã˜ã¦æ›´æ–°ã—ã¦ãã ã•ã„ã€‚**