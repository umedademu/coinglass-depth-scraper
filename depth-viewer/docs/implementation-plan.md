# Depth Viewer Webç‰ˆ å®Ÿè£…è¨ˆç”»

## ğŸ“Œ ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¤ã„ã¦

ã“ã‚Œã¯BTC-USDTæ¿æƒ…å ±ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§è¡¨ç¤ºã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆhttps://depth-viewer.vercel.app/ï¼‰ã®å®Ÿè£…è¨ˆç”»æ›¸ã§ã™ã€‚
å„æ®µéšã§å‹•ä½œç¢ºèªã‚’è¡Œã„ãªãŒã‚‰ã€ç¢ºå®Ÿã«æ©Ÿèƒ½ã‚’ç©ã¿ä¸Šã’ã¦ã„ãé–‹ç™ºæ‰‹æ³•ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚

**é‡è¦**: å®Ÿè£…ã‚’å§‹ã‚ã‚‹å‰ã«ã€å¿…ãšã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå…¨ä½“ã‚’èª­ã‚“ã§ãã ã•ã„ã€‚

### é–‹ç™ºãƒ–ãƒ©ãƒ³ãƒã«ã¤ã„ã¦
- **é–‹ç™ºãƒ–ãƒ©ãƒ³ãƒ**: `refactor/unified-chart`
- **é‡è¦**: é–‹ç™ºä¸­ã®ã‚³ãƒŸãƒƒãƒˆã¯å¿…ãš `refactor/unified-chart` ãƒ–ãƒ©ãƒ³ãƒã«pushã—ã¦ãã ã•ã„
- mainãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒãƒ¼ã‚¸ã¯å…¨æ®µéšå®Œäº†å¾Œã«è¡Œã„ã¾ã™

## ğŸ¯ å®Ÿè£…æ–¹é‡

1. **æ®µéšçš„å®Ÿè£…**: 8ã¤ã®æ®µéšã«åˆ†ã‘ã¦ã€å„æ®µéšã§å‹•ä½œç¢ºèªã‚’è¡Œã†
2. **æ—¢å­˜è³‡ç”£ã®æ´»ç”¨**: Pythonã‚¢ãƒ—ãƒªã®ãƒ‡ã‚¶ã‚¤ãƒ³ã¨è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¸è¥²
3. **èªè¨¼ãªã—**: URLã‚’çŸ¥ã£ã¦ã„ã‚Œã°èª°ã§ã‚‚é–²è¦§å¯èƒ½ï¼ˆç¬¬1ç‰ˆï¼‰
4. **ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã§å…¨ãƒ‡ãƒã‚¤ã‚¹å¯¾å¿œ
5. **UIé…ç½®ã®åŸå‰‡**: 
   - ç¾åœ¨ã®å¸‚å ´æƒ…å ±ã‚’æœ€ä¸Šéƒ¨ã«é…ç½®ï¼ˆä¾¡æ ¼ã€æ¿ã®çŠ¶æ…‹ãªã©ï¼‰
   - ã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ é¸æŠã‚’ãã®ä¸‹ã«é…ç½®
   - ã‚°ãƒ©ãƒ•ã‚’ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã—ã¦ä¸­å¤®ã«é…ç½®
   - è©³ç´°ãƒ‡ãƒ¼ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’æœ€ä¸‹éƒ¨ã«é…ç½®
6. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¯¾å¿œè¨­è¨ˆ**: 
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œï¼ˆã‚ºãƒ¼ãƒ /ãƒ‘ãƒ³ï¼‰ã‚’ä¸­æ–­ã—ãªã„æ›´æ–°
   - Chart.jsã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç›´æ¥æ“ä½œã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªæç”»
   - Reactå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’æœ€å°é™ã«æŠ‘ãˆã‚‹è¨­è¨ˆ
7. **TradingView/MT5æº–æ‹ ã®UIè¨­è¨ˆ**:
   - åˆæœŸè¡¨ç¤ºã¯æœ€æ–°250ä»¶ã®ãƒ‡ãƒ¼ã‚¿ã«é™å®šï¼ˆæ¥­ç•Œæ¨™æº–ã®è¡¨ç¤ºç¯„å›²ï¼‰
   - ã‚ºãƒ¼ãƒ 100%æ™‚ã®æ¨™æº–è¡¨ç¤ºå¹…ã¨ã—ã¦250ä»¶ã‚’æ¡ç”¨
   - éåº¦ãªæƒ…å ±é‡ã«ã‚ˆã‚‹è¦–èªæ€§ä½ä¸‹ã‚’é˜²ãè¨­è¨ˆ

## ğŸ“ å®Ÿè£…ã®å‰ææ¡ä»¶

**é‡è¦**: å®Ÿè£…ã‚’é–‹å§‹ã™ã‚‹å‰ã«ã€ä»¥ä¸‹ã®å‰ææ¡ä»¶ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç’°å¢ƒ
- Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€Œdepthã€ãŒç¨¼åƒä¸­
- **Supabase MCPãƒ„ãƒ¼ãƒ«ä½¿ç”¨æ™‚**: å¿…ãšãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID `rijqtostuemonbfcntck` ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨
- ä»¥ä¸‹ã®ãƒ†ãƒ¼ãƒ–ãƒ«ãŒå­˜åœ¨ã—ã€ãƒ‡ãƒ¼ã‚¿ãŒç¶™ç¶šçš„ã«è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ï¼š
  - `order_book_5min` - 5åˆ†è¶³ãƒ‡ãƒ¼ã‚¿
  - `order_book_15min` - 15åˆ†è¶³ãƒ‡ãƒ¼ã‚¿
  - `order_book_30min` - 30åˆ†è¶³ãƒ‡ãƒ¼ã‚¿
  - `order_book_1hour` - 1æ™‚é–“è¶³ãƒ‡ãƒ¼ã‚¿
  - `order_book_2hour` - 2æ™‚é–“è¶³ãƒ‡ãƒ¼ã‚¿
  - `order_book_4hour` - 4æ™‚é–“è¶³ãƒ‡ãƒ¼ã‚¿
  - `order_book_daily` - æ—¥è¶³ãƒ‡ãƒ¼ã‚¿
- å„ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã¯ä»¥ä¸‹ã®ã‚«ãƒ©ãƒ ãŒå­˜åœ¨ï¼š
  - `id`, `timestamp`, `ask_total`, `bid_total`, `price`, `group_id`
- group_idã¯ã€Œdefault-groupã€ã§çµ±ä¸€
- **APIåˆ¶é™**: 1ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚ãŸã‚Šæœ€å¤§1000è¡Œã¾ã§ï¼ˆç„¡æ–™ãƒ»æœ‰æ–™ãƒ—ãƒ©ãƒ³å…±é€šï¼‰
- **ãƒ‡ãƒ¼ã‚¿æ¬ æã«ã¤ã„ã¦**:
  - Pythonã‚¹ã‚¯ãƒ¬ãƒ¼ãƒ‘ãƒ¼ã®åœæ­¢ã‚„ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯éšœå®³ã«ã‚ˆã‚Šã€ãƒ‡ãƒ¼ã‚¿æ¬ æãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹
  - å„æ™‚é–“è¶³ã®æœŸå¾…ã•ã‚Œã‚‹é–“éš”ï¼š
    - 5åˆ†è¶³: 5åˆ†æ¯ã€15åˆ†è¶³: 15åˆ†æ¯ã€30åˆ†è¶³: 30åˆ†æ¯
    - 1æ™‚é–“è¶³: 1æ™‚é–“æ¯ã€2æ™‚é–“è¶³: 2æ™‚é–“æ¯ã€4æ™‚é–“è¶³: 4æ™‚é–“æ¯ã€æ—¥è¶³: 1æ—¥æ¯
  - æ¬ æãƒ‡ãƒ¼ã‚¿ã¯ç·šå½¢è£œé–“ã«ã‚ˆã‚Šè£œå®Œã™ã‚‹è¨­è¨ˆ
- **å„æ™‚é–“è¶³ã§ã®è£œå®Œå¯èƒ½æœŸé–“ï¼ˆ1000è¡Œåˆ¶é™ï¼‰**:
  - 5åˆ†è¶³: ç´„3.5æ—¥åˆ†
  - 15åˆ†è¶³: ç´„10.4æ—¥åˆ†
  - 30åˆ†è¶³: ç´„20.8æ—¥åˆ†
  - 1æ™‚é–“è¶³: ç´„41.7æ—¥åˆ†
  - 2æ™‚é–“è¶³: ç´„83.3æ—¥åˆ†
  - 4æ™‚é–“è¶³: ç´„166.7æ—¥åˆ†
  - æ—¥è¶³: ç´„2.7å¹´åˆ†

### ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒª
- Pythonã‚¹ã‚¯ãƒ¬ãƒ¼ãƒ‘ãƒ¼ãŒ5åˆ†ã”ã¨ã«ãƒ‡ãƒ¼ã‚¿ã‚’åé›†
- å„æ™‚é–“è¶³ã®ãƒ‡ãƒ¼ã‚¿ã‚’äº‹å‰é›†ç´„ã—ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿
- è©³ç´°ã¯[ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªä»•æ§˜æ›¸](./desktop-app-spec.md)ã‚’å‚ç…§

### é–‹ç™ºç’°å¢ƒ
- Node.js 18ä»¥ä¸ŠãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
- Vercelã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒè¨­å®šæ¸ˆã¿
- GitHubãƒªãƒã‚¸ãƒˆãƒªã¨é€£æºæ¸ˆã¿

## ğŸ“‹ å®Ÿè£…æ®µéš

**è¨­è¨ˆãƒã‚¤ãƒ³ãƒˆ**: 
- ç¬¬3æ®µéšã‹ã‚‰æ‹¡å¼µæ€§ã‚’è€ƒæ…®ã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ
- ç¬¬4æ®µéšã§Chart.jsç›´æ¥æ“ä½œã®åŸºç›¤ã‚’æ§‹ç¯‰
- ç¬¬6æ®µéšã§ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã‚’ä¸­æ–­ã—ãªã„ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã‚’å®Ÿç¾
- å…¨8æ®µéšã‚’é€šã˜ã¦ä¸€è²«ã—ãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’ç¶­æŒ

### ç¬¬1æ®µéšï¼šSupabaseæ¥ç¶šç¢ºèª ğŸ¯é›£æ˜“åº¦: 15/100

#### ç›®æ¨™
Supabaseã«æ¥ç¶šã—ã€ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚

#### ã‚¿ã‚¹ã‚¯
- Supabase Anon Keyã®å–å¾—ã¨ç’°å¢ƒå¤‰æ•°è¨­å®š
- Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®åˆæœŸåŒ–
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ™‚é–“è¶³ï¼ˆ1æ™‚é–“è¶³ï¼‰ã‹ã‚‰æœ€æ–°10ä»¶ã®ãƒ‡ãƒ¼ã‚¿å–å¾—ã®ã¿
- ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ‡ãƒ¼ã‚¿ã‚’å‡ºåŠ›

#### ç¢ºèªé …ç›®
```
âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ç¢ºèªæŒ‡ç¤ºï¼š
ã€Œå®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š
1. npm run dev ã§ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
2. http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
3. F12ã‚­ãƒ¼ã§é–‹ç™ºè€…ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’é–‹ã
4. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ä»¥ä¸‹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼š
   - "Supabase connected successfully"
   - å„æ™‚é–“è¶³ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿ï¼ˆ5åˆ†è¶³ã€15åˆ†è¶³ã€30åˆ†è¶³ã€1æ™‚é–“è¶³ã€2æ™‚é–“è¶³ã€4æ™‚é–“è¶³ã€æ—¥è¶³ï¼‰
5. ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ãªã„

å•é¡Œãªã‘ã‚Œã°OKã§ã™ï¼ã€
```

---

### ç¬¬2æ®µéšï¼šãƒ‡ãƒ¼ã‚¿å–å¾—ã¨è¡¨ç¤º ğŸ¯é›£æ˜“åº¦: 25/100

#### ç›®æ¨™
é¸æŠã—ãŸæ™‚é–“è¶³ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã€ç”»é¢ä¸Šã«ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ã§è¡¨ç¤ºã™ã‚‹ã€‚

#### ã‚¿ã‚¹ã‚¯
- **ãƒ‡ãƒ¼ã‚¿å–å¾—ã®å®Ÿè£…**
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ™‚é–“è¶³ï¼ˆ1æ™‚é–“è¶³ï¼‰ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰å–å¾—
  - æœ€æ–°1000ä»¶ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ï¼ˆåˆæœŸè¡¨ç¤ºç”¨ï¼‰
  - å–å¾—å¾Œã€ãƒ‡ãƒ¼ã‚¿ã‚’æ™‚ç³»åˆ—é †ï¼ˆå¤ã„â†’æ–°ã—ã„ï¼‰ã«ã‚½ãƒ¼ãƒˆ
  - ãƒ‡ãƒ¼ã‚¿æ¬ æã®ãƒã‚§ãƒƒã‚¯ï¼ˆé€£ç¶šæ€§ã®æ¤œè¨¼ï¼‰
  - æ¬ æç®‡æ‰€ã®ç‰¹å®šã¨ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã¸ã®ãƒ­ã‚°å‡ºåŠ›
- **ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤ºã®å®Ÿè£…ï¼ˆç¢ºèªç”¨ãƒ»ä¸€æ™‚çš„ï¼‰**
  - ãƒ†ãƒ¼ãƒ–ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½œæˆ
  - æœ€æ–°100ä»¶ã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ†ãƒ¼ãƒ–ãƒ«ã«è¡¨ç¤º
  - timestampã€å£²ã‚Šæ¿ã€è²·ã„æ¿ã€ä¾¡æ ¼ã‚’è¡¨ç¤º
  - è²·ã„/å£²ã‚Šæ¯”ç‡ã®è¨ˆç®—ã¨è¡¨ç¤º
  - æœ€çµ‚æ›´æ–°æ™‚åˆ»ã®è¡¨ç¤º
  - **æ³¨æ„**: ã“ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã¯ç¬¬6æ®µéšã§å‰Šé™¤äºˆå®š

#### ç¢ºèªé …ç›®
```
âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ç¢ºèªæŒ‡ç¤ºï¼š
ã€Œå®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š
1. http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ãƒšãƒ¼ã‚¸ä¸Šéƒ¨ã«ç¾åœ¨ã®æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼š
   - æœ€æ–°ä¾¡æ ¼ï¼ˆä¾‹ï¼š$117,721ï¼‰
   - å£²ã‚Šæ¿ç·é‡ï¼ˆä¾‹ï¼š7,502 BTCï¼‰
   - è²·ã„æ¿ç·é‡ï¼ˆä¾‹ï¼š13,945 BTCï¼‰
   - è²·ã„/å£²ã‚Šæ¯”ç‡ï¼ˆä¾‹ï¼š1.86ï¼‰
3. ãƒ†ãƒ¼ãƒ–ãƒ«ã«100è¡Œã®ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹
4. å„è¡Œã«timestampã€askã€bidã€priceãŒè¡¨ç¤ºã•ã‚Œã‚‹
5. ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ãŒæ—¥æœ¬æ™‚é–“ã§è¡¨ç¤ºã•ã‚Œã‚‹

ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°OKã§ã™ï¼ã€
```

---

### ç¬¬3æ®µéšï¼šçµ±åˆã‚°ãƒ©ãƒ•ã®å®Ÿè£… âœ…å®Œäº†

#### ç›®æ¨™
Chart.jsã‚’ä½¿ç”¨ã—ã¦ã€å£²ã‚Šæ¿ãƒ»è²·ã„æ¿ãƒ»ä¾¡æ ¼ã‚’1ã¤ã®çµ±åˆã‚°ãƒ©ãƒ•ã§è¡¨ç¤ºã™ã‚‹ã€‚å‚ç›´æ–¹å‘ã«åˆ†é›¢ã•ã‚ŒãŸ3ã¤ã®ã‚¨ãƒªã‚¢ã§å„ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã€‚UIã¯ç´”ç²‹ãªã‚°ãƒ©ãƒ•ã®ã¿ã¨ã—ã€ä½™è¨ˆãªè£…é£¾ã¯ä¸€åˆ‡å«ã‚ãªã„ã€‚**å°†æ¥çš„ãªæ‹¡å¼µï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã€å‹•çš„æ“ä½œã€åˆæœŸè¡¨ç¤ºç¯„å›²åˆ¶é™ï¼‰ã‚’è€ƒæ…®ã—ãŸè¨­è¨ˆã¨ã™ã‚‹ã€‚**

#### è¨­è¨ˆæ–¹é‡
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**
  - UnifiedChartã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’forwardRefã§å®Ÿè£…
  - å¤–éƒ¨ã‹ã‚‰Chart.jsã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ“ä½œå¯èƒ½ãªè¨­è¨ˆ
  - å†…éƒ¨ãƒ‡ãƒ¼ã‚¿å‚ç…§ï¼ˆinternalDataRefï¼‰ã«ã‚ˆã‚‹çŠ¶æ…‹ç®¡ç†
  - useImperativeHandleã«ã‚ˆã‚‹ãƒ¡ã‚½ãƒƒãƒ‰å…¬é–‹ã®æº–å‚™
  - ç¬¬4æ®µéšã§ã®åˆæœŸè¡¨ç¤ºç¯„å›²åˆ¶é™ï¼ˆ250ä»¶ï¼‰ã‚’è¦‹è¶Šã—ãŸæ§‹é€ 

#### ã‚¿ã‚¹ã‚¯
- Chart.jsãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨è¨­å®šï¼ˆchart.jsã€react-chartjs-2ï¼‰
- **æ‹¡å¼µå¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹é€ ã®å®Ÿè£…**
  - forwardRefã«ã‚ˆã‚‹refè»¢é€æ©Ÿèƒ½
  - å†…éƒ¨ãƒ‡ãƒ¼ã‚¿ç®¡ç†ç”¨ã®useRefæº–å‚™
  - å°†æ¥çš„ãªå¤–éƒ¨æ“ä½œãƒ¡ã‚½ãƒƒãƒ‰ã®åŸºç›¤ä½œæˆ
- **1ã¤ã®çµ±åˆã‚°ãƒ©ãƒ•ã®å®Ÿè£…ï¼ˆå‚ç›´åˆ†é›¢ï¼‰**
  - 3ã¤ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆï¼ˆå£²ã‚Šæ¿ã€è²·ã„æ¿ã€ä¾¡æ ¼ï¼‰
  - åˆæœŸ1000ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã‚’å…¨ã¦è¡¨ç¤ºï¼ˆç¬¬3æ®µéšã§ã¯å…¨ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºï¼‰
  - **æ³¨æ„**: ç¬¬4æ®µéšã§250ä»¶ã«åˆ¶é™ã™ã‚‹å‰æã§è¨­è¨ˆ
  - **ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆãƒãƒ¼ã‚«ãƒ¼ã¯éè¡¨ç¤ºï¼ˆpointRadius: 0ï¼‰**
  - ãƒ†ãƒ¼ãƒ–ãƒ«ã¯ç¬¬2æ®µéšã®ã¾ã¾ç¶­æŒï¼ˆç¢ºèªç”¨ï¼‰
  - **ã‚°ãƒ©ãƒ•é«˜ã•: 800pxå›ºå®š**
  - **ã‚°ãƒ©ãƒ•ã®ã¿è¡¨ç¤ºï¼ˆã‚¿ã‚¤ãƒˆãƒ«ãƒ»å‡¡ä¾‹ãƒ»èª¬æ˜æ–‡ã¯ä¸€åˆ‡ãªã—ï¼‰**
- **ãƒ‡ãƒ¼ã‚¿ã®æ­£è¦åŒ–ï¼ˆ0-100ç¯„å›²ï¼‰**
  - å£²ã‚Šæ¿: 70-100ã®ç¯„å›²ï¼ˆä¸Šéƒ¨30%ï¼‰
  - ä¾¡æ ¼: 30-70ã®ç¯„å›²ï¼ˆä¸­å¤®40%ï¼‰
  - è²·ã„æ¿: 0-30ã®ç¯„å›²ï¼ˆä¸‹éƒ¨30%ï¼‰
- **å…±é€šã‚¹ã‚±ãƒ¼ãƒ«æ­£è¦åŒ–**
  - ASKã¨BIDã®ç¯„å›²ã‚’æ¯”è¼ƒã—ã€å¤§ãã„æ–¹ã‚’åŸºæº–ã«æ­£è¦åŒ–
  - `maxRange = Math.max(askRange, bidRange)`ã‚’ä½¿ç”¨
  - 1 BTCã®è¦–è¦šçš„ãªé«˜ã•ã‚’ASK/BIDã§çµ±ä¸€
- å£²ã‚Šæ¿ï¼ˆæ˜ã‚‹ã„èµ¤è‰² rgb(248, 113, 113)ï¼‰ã®å®Ÿè£…
  - **ä¸Šéƒ¨30%ã‚¨ãƒªã‚¢ã€åè»¢è¡¨ç¤ºï¼ˆå€¤ãŒå¤§ãã„ã»ã©ä¸‹ã«ï¼‰**
  - **ã‚¨ãƒªã‚¢ãƒãƒ£ãƒ¼ãƒˆï¼ˆå¡—ã‚Šã¤ã¶ã—ï¼‰ã€fill.target: { value: 100 }**
  - **å…±é€šã‚¹ã‚±ãƒ¼ãƒ«ã§æ­£è¦åŒ–**
  - **yAxisID: 'y'ï¼ˆå·¦å´Yè»¸ã‚’ä½¿ç”¨ï¼‰**
  - **pointRadius: 0ï¼ˆãƒãƒ¼ã‚«ãƒ¼éè¡¨ç¤ºï¼‰**
- è²·ã„æ¿ï¼ˆæ˜ã‚‹ã„ç·‘è‰² rgb(74, 222, 128)ï¼‰ã®å®Ÿè£…
  - **ä¸‹éƒ¨30%ã‚¨ãƒªã‚¢ã€é€šå¸¸è¡¨ç¤º**
  - **ã‚¨ãƒªã‚¢ãƒãƒ£ãƒ¼ãƒˆï¼ˆå¡—ã‚Šã¤ã¶ã—ï¼‰ã€fill.target: { value: 0 }**
  - **å…±é€šã‚¹ã‚±ãƒ¼ãƒ«ã§æ­£è¦åŒ–**
  - **yAxisID: 'y'ï¼ˆå·¦å´Yè»¸ã‚’ä½¿ç”¨ï¼‰**
  - **pointRadius: 0ï¼ˆãƒãƒ¼ã‚«ãƒ¼éè¡¨ç¤ºï¼‰**
- ä¾¡æ ¼ï¼ˆã‚ªãƒ¬ãƒ³ã‚¸è‰² #ff9500ï¼‰ã®å®Ÿè£…
  - **ä¸­å¤®40%ã‚¨ãƒªã‚¢**
  - ç·šã‚’å¤ªã‚ã«è¨­å®šï¼ˆborderWidth: 3ï¼‰
  - å¡—ã‚Šã¤ã¶ã—ãªã—ï¼ˆç·šã‚°ãƒ©ãƒ•ï¼‰
  - **yAxisID: 'y2'ï¼ˆå³å´Yè»¸ã‚’ä½¿ç”¨ï¼‰**
  - **pointRadius: 0ï¼ˆãƒãƒ¼ã‚«ãƒ¼éè¡¨ç¤ºï¼‰**
- **Yè»¸ãƒ©ãƒ™ãƒ«ã®è¡¨ç¤ºä»•æ§˜ï¼ˆ2è»¸åˆ†é›¢ï¼‰**
  - **å·¦å´Yè»¸ï¼ˆASK/BIDç”¨ï¼‰**
    - æ•°å­—ã®ã¿è¡¨ç¤ºï¼ˆã€ŒBTC(å£²)ã€ãªã©ã®å˜ä½ã‚„èª¬æ˜ã¯ä»˜ã‘ãªã„ï¼‰
    - å®Ÿãƒ‡ãƒ¼ã‚¿ã®æœ€å¤§å€¤ã¾ã§ã®ã¿ãƒ©ãƒ™ãƒ«è¡¨ç¤º
    - å£²ã‚Šæ¿: å®Ÿéš›ã®æœ€å°å€¤ï½æœ€å¤§å€¤ã®ç¯„å›²ã§ãƒ©ãƒ™ãƒ«è¡¨ç¤º
    - è²·ã„æ¿: å®Ÿéš›ã®æœ€å°å€¤ï½æœ€å¤§å€¤ã®ç¯„å›²ã§ãƒ©ãƒ™ãƒ«è¡¨ç¤º
    - ä¸­å¤®éƒ¨åˆ†ï¼ˆ30-70ç¯„å›²ï¼‰ã¯ãƒ©ãƒ™ãƒ«è¡¨ç¤ºãªã—
  - **å³å´Yè»¸ï¼ˆä¾¡æ ¼ç”¨ï¼‰**
    - $è¨˜å·ä»˜ãã§è¡¨ç¤ºï¼ˆä¾‹: $117,000ï¼‰
    - 30-70ã®ç¯„å›²ã®ã¿ãƒ©ãƒ™ãƒ«è¡¨ç¤º
    - ã‚°ãƒªãƒƒãƒ‰ç·šã¯éè¡¨ç¤ºï¼ˆgrid.display: falseï¼‰
  - **å…±é€šã‚¹ã‚±ãƒ¼ãƒ«ã§ã‚°ãƒ©ãƒ•ã¯æç”»ã™ã‚‹ãŒã€ãƒ©ãƒ™ãƒ«ã¯å®Ÿãƒ‡ãƒ¼ã‚¿ç¯„å›²ã«åˆ¶é™**
- **ã‚°ãƒ©ãƒ•UIã®è¨­å®š**
  - å‡¡ä¾‹ï¼ˆlegendï¼‰ã‚’éè¡¨ç¤ºï¼ˆdisplay: falseï¼‰
  - ã‚°ãƒ©ãƒ•ã‚¿ã‚¤ãƒˆãƒ«ãªã—
  - èª¬æ˜ãƒ‘ãƒãƒ«ãªã—
  - ç´”ç²‹ãªã‚°ãƒ©ãƒ•ã‚³ãƒ³ãƒ†ãƒŠã®ã¿
- Xè»¸ï¼ˆæ™‚åˆ»ï¼‰ã®å…±é€šåŒ–
- ã‚°ãƒªãƒƒãƒ‰ç·šã¨ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒã®é©ç”¨ï¼ˆèƒŒæ™¯: #0a0a0aã€ã‚³ãƒ³ãƒ†ãƒŠ: #1e1e1eï¼‰
- **ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã®å®Ÿè£…**
  - ãƒã‚¦ã‚¹ãƒ›ãƒãƒ¼ã§3ã¤ã®å€¤ï¼ˆå£²ã‚Šæ¿ã€è²·ã„æ¿ã€ä¾¡æ ¼ï¼‰ã‚’è¡¨ç¤º
  - è£œé–“ãƒ‡ãƒ¼ã‚¿ã®è­˜åˆ¥è¡¨ç¤ºã«å¯¾å¿œï¼ˆç¬¬5æ®µéšã§å®Ÿè£…ï¼‰
  - å®Ÿãƒ‡ãƒ¼ã‚¿ã®å€¤ã‚’è¡¨ç¤º

#### ç¢ºèªé …ç›®
```
âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ç¢ºèªæŒ‡ç¤ºï¼š
ã€Œå®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š
1. http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ç”»é¢ä¸­å¤®ã«1ã¤ã®çµ±åˆã‚°ãƒ©ãƒ•ï¼ˆé«˜ã•800pxï¼‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼š
   - å£²ã‚Šæ¿ã®æ¨ç§»ï¼ˆæ˜ã‚‹ã„èµ¤è‰²ã®ã‚¨ãƒªã‚¢ãƒãƒ£ãƒ¼ãƒˆã€ä¸Šéƒ¨30%ã€åè»¢è¡¨ç¤ºï¼‰
   - è²·ã„æ¿ã®æ¨ç§»ï¼ˆæ˜ã‚‹ã„ç·‘è‰²ã®ã‚¨ãƒªã‚¢ãƒãƒ£ãƒ¼ãƒˆã€ä¸‹éƒ¨30%ã€é€šå¸¸è¡¨ç¤ºï¼‰
   - ä¾¡æ ¼ã®æ¨ç§»ï¼ˆã‚ªãƒ¬ãƒ³ã‚¸è‰²ã®ç·šã€ä¸­å¤®40%ï¼‰
3. ã‚°ãƒ©ãƒ•ã®èƒŒæ™¯ãŒãƒ€ãƒ¼ã‚¯ï¼ˆ#0a0a0aï¼‰
4. **3ã¤ã®ãƒ‡ãƒ¼ã‚¿ãŒå‚ç›´æ–¹å‘ã«åˆ†é›¢ã•ã‚Œã¦è¡¨ç¤ºã•ã‚Œã‚‹**
5. **å£²ã‚Šæ¿ï¼ˆä¸Šï¼‰ã¨è²·ã„æ¿ï¼ˆä¸‹ï¼‰ãŒé‡ãªã‚‰ãªã„**
6. **ä¾¡æ ¼ãƒãƒ£ãƒ¼ãƒˆãŒä¸­å¤®40%ã®ã‚¨ãƒªã‚¢ã«åã¾ã£ã¦ã„ã‚‹**
7. ã‚°ãƒªãƒƒãƒ‰ç·šãŒè–„ãè¡¨ç¤ºã•ã‚Œã‚‹
8. **Yè»¸ãƒ©ãƒ™ãƒ«ãŒå·¦å³ã«åˆ†é›¢ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹ï¼š**
   - å·¦å´Yè»¸: 4,746ã€7,317ãªã©ï¼ˆASK/BIDå€¤ã€å˜ä½ã‚„èª¬æ˜ãªã—ï¼‰
   - å³å´Yè»¸: $117,231ãªã©ï¼ˆä¾¡æ ¼ã®ã¿$è¨˜å·ä»˜ãï¼‰
9. **Yè»¸ãƒ©ãƒ™ãƒ«ãŒå®Ÿãƒ‡ãƒ¼ã‚¿ã®æœ€å¤§å€¤ã¾ã§ã§åˆ¶é™ã•ã‚Œã‚‹**
10. **ã‚°ãƒ©ãƒ•ã‚¿ã‚¤ãƒˆãƒ«ãƒ»å‡¡ä¾‹ãƒ»èª¬æ˜æ–‡ãŒä¸€åˆ‡è¡¨ç¤ºã•ã‚Œãªã„**
11. **å£²ã‚Šæ¿ã®åè»¢è¡¨ç¤ºï¼ˆå€¤ãŒå¤§ãã„ã»ã©ä¸‹ã«ï¼‰**
12. **ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã®ãƒãƒ¼ã‚«ãƒ¼ï¼ˆä¸¸ã„ç‚¹ï¼‰ãŒè¡¨ç¤ºã•ã‚Œãªã„**
13. ãƒã‚¦ã‚¹ãƒ›ãƒãƒ¼ã§3ã¤ã®å€¤ãŒãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã«è¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆå®Ÿéš›ã®å€¤ï¼‰
14. ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã«å£²ã‚Šæ¿ã€è²·ã„æ¿ã€ä¾¡æ ¼ã®å®Ÿãƒ‡ãƒ¼ã‚¿å€¤ãŒè¡¨ç¤ºã•ã‚Œã‚‹
15. ã‚°ãƒ©ãƒ•ã«ç´„1000å€‹ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆç¬¬3æ®µéšã§ã¯å…¨ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºï¼‰
16. ä¾¡æ ¼ç·šãŒã‚ªãƒ¬ãƒ³ã‚¸è‰²ã§å¤ªã‚ã«è¡¨ç¤ºã•ã‚Œã‚‹

ã‚°ãƒ©ãƒ•ãŒæ­£ã—ãå‚ç›´åˆ†é›¢ã•ã‚Œã€UIãŒæœ€å°é™ã«ãªã£ã¦ã„ã‚Œã°OKã§ã™ï¼ã€
```

---

### ç¬¬4æ®µéšï¼šã‚°ãƒ©ãƒ•åŸºæœ¬æ“ä½œã¨UIæ•´ç† âœ…å®Œäº†

#### ç›®æ¨™
ã‚°ãƒ©ãƒ•ã®åŸºæœ¬çš„ãªæ“ä½œæ©Ÿèƒ½ï¼ˆã‚ºãƒ¼ãƒ ãƒ»ãƒ‘ãƒ³ï¼‰ã‚’å®Ÿè£…ã—ã€ä¸è¦ãªãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å‰Šé™¤ã™ã‚‹ã€‚å‹•çš„ã‚¹ã‚±ãƒ¼ãƒ«æ©Ÿèƒ½ã«ã‚ˆã‚Šã€è¡¨ç¤ºç¯„å›²ã«å¿œã˜ã¦ã‚°ãƒ©ãƒ•ãŒè‡ªå‹•çš„ã«æœ€é©åŒ–ã•ã‚Œã‚‹ã€‚**ã“ã®æ®µéšã§æ§‹ç¯‰ã™ã‚‹æ“ä½œåŸºç›¤ã¯ã€ç¬¬6æ®µéšã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã§ã‚‚æ´»ç”¨ã•ã‚Œã‚‹ã€‚**

#### è¨­è¨ˆæ–¹é‡ï¼ˆæ¥µã‚ã¦é‡è¦ï¼‰
- **Reactã¨Chart.jsã®å®Œå…¨ãªè²¬ä»»åˆ†é›¢**
  - Reactå´ï¼šåˆæœŸãƒ‡ãƒ¼ã‚¿ã®æº–å‚™ã®ã¿ï¼ˆuseMemoã§1å›ã ã‘è¨ˆç®—ï¼‰
  - Chart.jså´ï¼šã™ã¹ã¦ã®å‹•çš„æ›´æ–°ã‚’å†…éƒ¨ã§å‡¦ç†
  - **é‡è¦**ï¼šReactå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é¿ã‘ã‚‹ãŸã‚ã€Chart.jsã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç›´æ¥æ“ä½œã‚’åŸºæœ¬ã¨ã™ã‚‹
  
- **Chart.jsã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ“ä½œã®åŸºç›¤æ§‹ç¯‰**
  - chartRefã‚’é€šã˜ãŸç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹
  - updateDynamicScaleé–¢æ•°ã«ã‚ˆã‚‹å‹•çš„æ›´æ–°
  - å°†æ¥çš„ãªaddRealtimeDataãƒ¡ã‚½ãƒƒãƒ‰ã®æº–å‚™
  - `chart.update('none')`ã«ã‚ˆã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãªã—æ›´æ–°

- **TradingView/MT5æº–æ‹ ã®åˆæœŸè¡¨ç¤ºç¯„å›²**
  - åˆæœŸè¡¨ç¤ºã‚’æœ€æ–°250ä»¶ã«åˆ¶é™ï¼ˆæ¥­ç•Œæ¨™æº–ï¼‰
  - å…¨ãƒ‡ãƒ¼ã‚¿ã¯ãƒ¡ãƒ¢ãƒªã«ä¿æŒã—ã¤ã¤ã€Xè»¸ã®è¡¨ç¤ºç¯„å›²ã®ã¿åˆ¶é™
  - INITIAL_DISPLAY_COUNTå®šæ•°ã¨ã—ã¦å®šç¾©ï¼ˆ250ï¼‰

#### å®Ÿè£…æ‰‹é †ï¼ˆæ®µéšçš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼‰
1. **ç¬¬1ã‚¹ãƒ†ãƒƒãƒ—ï¼šç´”ç²‹ãªã‚ºãƒ¼ãƒ æ©Ÿèƒ½ã®å®Ÿè£…**
   - chartjs-plugin-zoomã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆhammerjså«ã‚€ï¼‰
   - SSRå¯¾å¿œï¼š`typeof window !== 'undefined'`ã§å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
   - å‹•çš„ã‚¹ã‚±ãƒ¼ãƒ«æ›´æ–°ã‚’å«ã‚ãªã„åŸºæœ¬çš„ãªã‚ºãƒ¼ãƒ /ãƒ‘ãƒ³æ©Ÿèƒ½ã®ã¿å®Ÿè£…
   - ã“ã®æ®µéšã§ã‚ºãƒ¼ãƒ çŠ¶æ…‹ãŒç¶­æŒã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

2. **ç¬¬2ã‚¹ãƒ†ãƒƒãƒ—ï¼šå‹•çš„ã‚¹ã‚±ãƒ¼ãƒ«æ›´æ–°ã®è¿½åŠ **
   - `updateDynamicScale`é–¢æ•°ã‚’`useCallback`ã§å®šç¾©
   - Chart.jsã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç›´æ¥æ“ä½œã™ã‚‹è¨­è¨ˆ
   - `chart.data.datasets[n].data`ã‚’ç›´æ¥æ›´æ–°
   - `chart.options.scales.y.ticks.callback`ã‚’å‹•çš„ã«æ›¸ãæ›ãˆ
   - `chart.update('none')`ã§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãªã—æ›´æ–°

#### ã‚¿ã‚¹ã‚¯
- **åˆæœŸè¡¨ç¤ºç¯„å›²ã®è¨­å®šï¼ˆTradingView/MT5æº–æ‹ ï¼‰**
  ```javascript
  // åˆæœŸè¡¨ç¤ºä»¶æ•°ã®å®šæ•°å®šç¾©
  const INITIAL_DISPLAY_COUNT = 250
  
  // Xè»¸ã‚¹ã‚±ãƒ¼ãƒ«ã®åˆæœŸç¯„å›²è¨­å®š
  scales: {
    x: {
      // åˆæœŸè¡¨ç¤ºã‚’æœ€æ–°250ä»¶ã«åˆ¶é™
      min: Math.max(0, sortedData.length - INITIAL_DISPLAY_COUNT),
      max: sortedData.length - 1
    }
  }
  ```
- **chartjs-plugin-zoomã®è¨­å®š**
  ```javascript
  // ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆSSRå¯¾å¿œï¼‰
  let zoomPlugin: any
  if (typeof window !== 'undefined') {
    zoomPlugin = require('chartjs-plugin-zoom').default
    ChartJS.register(zoomPlugin)
  }
  ```
- **ã‚ºãƒ¼ãƒ æ©Ÿèƒ½ã®å®Ÿè£…**
  - `onZoomComplete: ({ chart }) => { updateDynamicScale(chart); setIsZoomed(true) }`
  - `onPanComplete: ({ chart }) => { updateDynamicScale(chart); setIsZoomed(true) }`
  - ã‚ºãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ï¼ˆisZoomedæ™‚ã®ã¿è¡¨ç¤ºã€250ä»¶è¡¨ç¤ºã«æˆ»ã‚‹ï¼‰
- **å‹•çš„ã‚¹ã‚±ãƒ¼ãƒ«èª¿æ•´ã®å®Ÿè£…**
  ```javascript
  const updateDynamicScale = useCallback((chart: any) => {
    // 1. è¡¨ç¤ºç¯„å›²ã®å–å¾—
    const xScale = chart.scales.x
    const visibleData = sortedData.slice(min, max + 1)
    
    // 2. æ–°ã—ã„ã‚¹ã‚±ãƒ¼ãƒ«å€¤ã®è¨ˆç®—
    // 3. ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ç›´æ¥æ›´æ–°ï¼ˆReactã®å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é¿ã‘ã‚‹ï¼‰
    chart.data.datasets[0].data = normalizedAskData
    
    // 4. Yè»¸ãƒ©ãƒ™ãƒ«ã®æ›´æ–°
    chart.options.scales.y.ticks.callback = function(value) { /* å‹•çš„è¨ˆç®— */ }
    
    // 5. ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãªã—æ›´æ–°
    chart.update('none')
  }, [sortedData])
  ```
- **ASK/BIDã®å…±é€šã‚¹ã‚±ãƒ¼ãƒ«ç¶­æŒ**
  - è¡¨ç¤ºç¯„å›²å†…ã®ASKç¯„å›²ã¨BIDç¯„å›²ã‚’æ¯”è¼ƒ
  - `maxRange = Math.max(askRange, bidRange)`ã§çµ±ä¸€
- **ä¾¡æ ¼ãƒãƒ£ãƒ¼ãƒˆã®ç‹¬ç«‹ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°**
  - ä¾¡æ ¼ã¯ç‹¬è‡ªã®æœ€å°å€¤ãƒ»æœ€å¤§å€¤ã§æ­£è¦åŒ–
- **ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤ºã®å‰Šé™¤**
  - OrderBookTableã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‰Šé™¤
  - UIã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«æ•´ç†

#### ç¢ºèªé …ç›®
```
âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ç¢ºèªæŒ‡ç¤ºï¼š
ã€Œå®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š
1. http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ãƒ†ãƒ¼ãƒ–ãƒ«ãŒå‰Šé™¤ã•ã‚Œã€ã‚°ãƒ©ãƒ•ã®ã¿è¡¨ç¤ºã•ã‚Œã‚‹
3. **åˆæœŸè¡¨ç¤ºãŒæœ€æ–°250ä»¶ã«åˆ¶é™ã•ã‚Œã¦ã„ã‚‹ï¼ˆTradingView/MT5æº–æ‹ ï¼‰**ï¼š
   - å…¨1000ä»¶ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦ã„ã‚‹ãŒã€è¡¨ç¤ºã¯æœ€æ–°250ä»¶ã®ã¿
   - å·¦ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹ã¨éå»ã®ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹
   - é©åº¦ãªæƒ…å ±å¯†åº¦ã§è¦–èªæ€§ãŒè‰¯ã„
4. ãƒã‚¦ã‚¹ãƒ›ã‚¤ãƒ¼ãƒ«ã‚’å›è»¢ï¼š
   - ã‚°ãƒ©ãƒ•ãŒæ‹¡å¤§ãƒ»ç¸®å°ã•ã‚Œã‚‹
   - ã‚¹ãƒ ãƒ¼ã‚ºã«ã‚ºãƒ¼ãƒ å‹•ä½œ
   - **Yè»¸ãƒ©ãƒ™ãƒ«ãŒè¡¨ç¤ºç¯„å›²ã«å¿œã˜ã¦å‹•çš„ã«æ›´æ–°ã•ã‚Œã‚‹**
   - **ã‚°ãƒ©ãƒ•ã®å½¢çŠ¶è‡ªä½“ãŒæ‹¡å¤§ã•ã‚Œã‚‹ï¼ˆå±±ãŒå¤§ããè¡¨ç¤ºï¼‰**
5. ã‚ºãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ï¼š
   - ã‚ºãƒ¼ãƒ ä¸­ã®ã¿è¡¨ç¤ºã•ã‚Œã‚‹
   - ã‚¯ãƒªãƒƒã‚¯ã§æœ€æ–°250ä»¶è¡¨ç¤ºã«æˆ»ã‚‹
5. ã‚°ãƒ©ãƒ•ã‚’ãƒ‰ãƒ©ãƒƒã‚°ï¼ˆãƒ‘ãƒ³æ“ä½œï¼‰ï¼š
   - è¡¨ç¤ºç¯„å›²ãŒç§»å‹•ã™ã‚‹
   - **ã‚ºãƒ¼ãƒ ãƒ¬ãƒ™ãƒ«ãŒç¶­æŒã•ã‚Œã‚‹ï¼ˆãƒªã‚»ãƒƒãƒˆã•ã‚Œãªã„ï¼‰**
   - **ç§»å‹•ã—ãŸç¯„å›²ã«å¿œã˜ã¦ã‚°ãƒ©ãƒ•ãŒå†æ­£è¦åŒ–ã•ã‚Œã‚‹**
6. å‹•çš„ã‚¹ã‚±ãƒ¼ãƒ«èª¿æ•´ã®å‹•ä½œï¼š
   - **è¡¨ç¤ºç¯„å›²å†…ã®ãƒ‡ãƒ¼ã‚¿ã§æœ€å°å€¤ãƒ»æœ€å¤§å€¤ãŒå†è¨ˆç®—ã•ã‚Œã‚‹**
   - **ã‚°ãƒ©ãƒ•ã®å±±ã‚„è°·ãŒç”»é¢ã„ã£ã±ã„ã«æ‹¡å¤§è¡¨ç¤ºã•ã‚Œã‚‹**
   - **ç´°ã‹ã„å¤‰å‹•ãŒè¦‹ã‚„ã™ããªã‚‹**
7. ASK/BIDã®å…±é€šã‚¹ã‚±ãƒ¼ãƒ«ï¼š
   - **ç¯„å›²ãŒå¤§ãã„æ–¹ãŒ30%æ ã‚’ãƒ•ãƒ«ã«ä½¿ç”¨**
   - **å°ã•ã„æ–¹ã¯ä¾¡æ ¼ãƒ©ã‚¤ãƒ³å´ã«ä½™ç™½ãŒç”Ÿã˜ã‚‹**
   - **ä¸¡è€…ã®ç›¸å¯¾çš„ãªå¤§ãã•ãŒæ­£ã—ãç¶­æŒã•ã‚Œã‚‹**
8. ä¾¡æ ¼ãƒãƒ£ãƒ¼ãƒˆã®ç‹¬ç«‹ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ï¼š
   - **è¡¨ç¤ºç¯„å›²å†…ã®ä¾¡æ ¼å¤‰å‹•ãŒä¸­å¤®40%æ ã„ã£ã±ã„ã«è¡¨ç¤º**
   - **ç´°ã‹ã„ä¾¡æ ¼å¤‰å‹•ãŒè¦‹ã‚„ã™ããªã‚‹**
9. ã‚ºãƒ¼ãƒ å¾Œã®çŠ¶æ…‹ï¼š
   - å£²ã‚Šæ¿ã®åè»¢è¡¨ç¤ºãŒç¶­æŒã•ã‚Œã‚‹
   - 3ã¤ã®ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹
   - ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦ã‚‚ã‚ºãƒ¼ãƒ ãŒç¶­æŒã•ã‚Œã‚‹

ã‚°ãƒ©ãƒ•æ“ä½œã¨å‹•çš„ã‚¹ã‚±ãƒ¼ãƒ«èª¿æ•´ãŒæ­£ã—ãå‹•ä½œã™ã‚Œã°OKã§ã™ï¼ã€
```

---

### ç¬¬5æ®µéšï¼šã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ åˆ‡ã‚Šæ›¿ãˆï¼ˆé…å»¶èª­ã¿è¾¼ã¿ç‰ˆï¼‰ ğŸ¯é›£æ˜“åº¦: 35/100

#### ç›®æ¨™
æ™‚é–“è¶³ã®åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã€å¿…è¦ãªæ™‚ã®ã¿ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹åŠ¹ç‡çš„ãªã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã™ã‚‹ã€‚

#### ã‚¿ã‚¹ã‚¯
- ã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ é¸æŠãƒœã‚¿ãƒ³ã®è¿½åŠ 
- 5åˆ†è¶³ã€15åˆ†è¶³ã€30åˆ†è¶³ã€1æ™‚é–“è¶³ã€2æ™‚é–“è¶³ã€4æ™‚é–“è¶³ã€æ—¥è¶³ã®é¸æŠè‚¢
- **é…å»¶èª­ã¿è¾¼ã¿ã®å®Ÿè£…**
  - åˆæœŸè¡¨ç¤º: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ™‚é–“è¶³ï¼ˆ1æ™‚é–“è¶³ï¼‰ã®1000ä»¶ã®ã¿å–å¾—
  - æ™‚é–“è¶³åˆ‡ã‚Šæ›¿ãˆæ™‚: ãã®æ™‚é–“è¶³ã®ãƒ‡ãƒ¼ã‚¿ã‚’åˆã‚ã¦1000ä»¶å–å¾—
  - 2å›ç›®ä»¥é™: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‹ã‚‰å³åº§ã«è¡¨ç¤º
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†**
  - å„æ™‚é–“è¶³ã”ã¨ã«ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¡ãƒ¢ãƒªã«ä¿æŒ
  - ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰ã§ã‚¯ãƒªã‚¢
- **ãƒ‡ãƒ¼ã‚¿è£œå®Œå‡¦ç†ã®å®Ÿè£…**
  - å–å¾—ãƒ‡ãƒ¼ã‚¿ã®æ¬ æãƒã‚§ãƒƒã‚¯ï¼ˆå„æ™‚é–“è¶³ã®å›ºå®šé–“éš”ã¨æ¯”è¼ƒï¼‰
  - æ¬ æã‚¹ãƒ­ãƒƒãƒˆã®ç”Ÿæˆï¼ˆé–‹å§‹æ™‚åˆ»ã‹ã‚‰çµ‚äº†æ™‚åˆ»ã¾ã§å›ºå®šé–“éš”ã§ç”Ÿæˆï¼‰
  - ç·šå½¢è£œé–“ã«ã‚ˆã‚‹æ¬ æãƒ‡ãƒ¼ã‚¿ã®è£œå®Œ
  - è£œé–“ãƒ‡ãƒ¼ã‚¿ã«ãƒ•ãƒ©ã‚°ä»˜ä¸ï¼ˆisInterpolated: trueï¼‰
  - è£œå®Œçµ±è¨ˆæƒ…å ±ã®è¨ˆç®—ï¼ˆå®Ÿãƒ‡ãƒ¼ã‚¿æ•°ã€è£œé–“æ•°ã€è£œé–“ç‡ï¼‰
- **è£œå®Œãƒ‡ãƒ¼ã‚¿ã®è¡¨ç¤ºå¯¾å¿œ**
  - ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã«è£œé–“ãƒ‡ãƒ¼ã‚¿è­˜åˆ¥è¡¨ç¤ºã€Œ(ãƒ‡ãƒ¼ã‚¿æ¬ æãƒ»è£œé–“å€¤)ã€
  - è£œé–“æ–¹æ³•ã®èª¬æ˜ã€Œâ€» å‰å¾Œã®å€¤ã‹ã‚‰ç·šå½¢è£œé–“ã§æ¨å®šã€ã‚’è¿½åŠ 
- ã‚°ãƒ©ãƒ•ã®å†æç”»å‡¦ç†
- é¸æŠçŠ¶æ…‹ã®ä¿æŒï¼ˆlocalStorageä½¿ç”¨ï¼‰
- UIé…ç½®ã®æœ€é©åŒ–ï¼ˆè«¸ã€…ã®æƒ…å ± â†’ ã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ  â†’ ã‚°ãƒ©ãƒ• ã®é †åºï¼‰

#### ç¢ºèªé …ç›®
```
âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ç¢ºèªæŒ‡ç¤ºï¼š
ã€Œå®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š
1. http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
2. UIã®é…ç½®é †åºãŒä»¥ä¸‹ã«ãªã£ã¦ã„ã‚‹ï¼š
   - æœ€æ–°ä¾¡æ ¼ãªã©ã®ç¾åœ¨æƒ…å ±ï¼ˆæœ€ä¸Šéƒ¨ï¼‰
   - ã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ é¸æŠãƒœã‚¿ãƒ³ï¼ˆãã®ä¸‹ï¼‰
   - ã‚°ãƒ©ãƒ•ï¼ˆãã®ä¸‹ï¼‰
3. ã€Œ5åˆ†è¶³ã€ã‚’é¸æŠï¼š
   - order_book_5minãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
   - 5åˆ†ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
4. ã€Œ15åˆ†è¶³ã€ã‚’é¸æŠï¼š
   - order_book_15minãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
   - 15åˆ†ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
5. ã€Œ30åˆ†è¶³ã€ã‚’é¸æŠï¼š
   - order_book_30minãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
   - 30åˆ†ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
6. ã€Œ1æ™‚é–“è¶³ã€ã‚’é¸æŠï¼š
   - order_book_1hourãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
   - 1æ™‚é–“ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
7. ã€Œ2æ™‚é–“è¶³ã€ã‚’é¸æŠï¼š
   - order_book_2hourãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
   - 2æ™‚é–“ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
8. ã€Œ4æ™‚é–“è¶³ã€ã‚’é¸æŠï¼š
   - order_book_4hourãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
   - 4æ™‚é–“ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
9. ã€Œæ—¥è¶³ã€ã‚’é¸æŠï¼š
   - order_book_dailyãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—
   - 1æ—¥ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
10. ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰å¾Œã‚‚é¸æŠãŒä¿æŒã•ã‚Œã‚‹
11. ãƒ‡ãƒ¼ã‚¿è£œå®ŒãŒæ­£ã—ãå‹•ä½œï¼š
   - ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è£œå®Œçµ±è¨ˆãŒè¡¨ç¤ºã•ã‚Œã‚‹
   - ä¾‹ï¼šã€ŒğŸ“Š è£œå®Œå¾Œ: 560ä»¶ï¼ˆå®Ÿãƒ‡ãƒ¼ã‚¿: 536ä»¶, è£œé–“: 24ä»¶, è£œé–“ç‡: 4.3%ï¼‰ã€
   - ã‚°ãƒ©ãƒ•ã®æ¨ªè»¸ãŒç­‰é–“éš”ã§è¡¨ç¤ºã•ã‚Œã‚‹
12. è£œé–“ãƒ‡ãƒ¼ã‚¿ã«ãƒã‚¦ã‚¹ãƒ›ãƒãƒ¼æ™‚ï¼š
   - ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã«ã€Œ(ãƒ‡ãƒ¼ã‚¿æ¬ æãƒ»è£œé–“å€¤)ã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹
   - ã€Œâ€» å‰å¾Œã®å€¤ã‹ã‚‰ç·šå½¢è£œé–“ã§æ¨å®šã€ã®èª¬æ˜ãŒè¡¨ç¤ºã•ã‚Œã‚‹

ã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ åˆ‡ã‚Šæ›¿ãˆã¨ãƒ‡ãƒ¼ã‚¿è£œå®ŒãŒå‹•ä½œã™ã‚Œã°OKã§ã™ï¼ã€
```

---

### ç¬¬6æ®µéšï¼šãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–° ğŸ¯é›£æ˜“åº¦: 60/100

#### ç›®æ¨™
Supabase Realtimeã§WebSocketæ¥ç¶šã—ã€ãƒ‡ãƒ¼ã‚¿æ›´æ–°æ™‚ã«è‡ªå‹•çš„ã«ã‚°ãƒ©ãƒ•ã‚’æ›´æ–°ã™ã‚‹ã€‚**ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œï¼ˆã‚ºãƒ¼ãƒ /ãƒ‘ãƒ³ï¼‰ã‚’ä¸€åˆ‡ä¸­æ–­ã›ãšã€ã‚¹ãƒ ãƒ¼ã‚ºãªä½“é¨“ã‚’æä¾›ã™ã‚‹ã€‚**

#### è¨­è¨ˆæ–¹é‡
- **ã‚ºãƒ¼ãƒ /ãƒ‘ãƒ³çŠ¶æ…‹ã®å®Œå…¨ãªç¶­æŒ**
  - ç¬¬3æ®µéšã§æº–å‚™ã—ãŸforwardRefæ§‹é€ ã‚’æ´»ç”¨
  - ç¬¬4æ®µéšã§æ§‹ç¯‰ã—ãŸChart.jsç›´æ¥æ“ä½œåŸºç›¤ã‚’ä½¿ç”¨
  - Reactå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’å›é¿ã—ã€Chart.jsã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã¿æ›´æ–°

#### ã‚¿ã‚¹ã‚¯
- **Supabase Realtimeè³¼èª­ã®è¨­å®š**
  - å„æ™‚é–“è¶³ãƒ†ãƒ¼ãƒ–ãƒ«ã”ã¨ã®ç‹¬ç«‹ã—ãŸè³¼èª­
  - WebSocketæ¥ç¶šã®ç¢ºç«‹ã¨ç®¡ç†
  
- **ã‚ºãƒ¼ãƒ çŠ¶æ…‹ã‚’ç¶­æŒã—ãŸãƒ‡ãƒ¼ã‚¿è¿½åŠ **
  - chartRefçµŒç”±ã§addRealtimeDataãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã—
  - Chart.jsã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¸ã®ç›´æ¥ãƒ‡ãƒ¼ã‚¿è¿½åŠ 
  - `chart.update('none')`ã§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãªã—æ›´æ–°
  - ReactçŠ¶æ…‹æ›´æ–°ã¯è¡¨ç¤ºç”¨ï¼ˆMarketInfoç­‰ï¼‰ã®ã¿ã«é™å®š
  
- **UIè¦ç´ ã®å®Ÿè£…**
  - æ¥ç¶šçŠ¶æ…‹ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ï¼ˆå³ä¸Šå›ºå®šè¡¨ç¤ºï¼‰
  - æ¥ç¶šã‚¨ãƒ©ãƒ¼æ™‚ã®è‡ªå‹•å†æ¥ç¶šï¼ˆ5ç§’å¾Œï¼‰
  
- **ãƒ¡ãƒ¢ãƒªç®¡ç†**
  - Chart.jså†…éƒ¨ã§ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆç®¡ç†ï¼ˆæœ€å¤§5000ä»¶ï¼‰
  - ã‚ºãƒ¼ãƒ ç¯„å›²ã®è‡ªå‹•èª¿æ•´
  - å¤ã„ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•å‰Šé™¤

#### ç¢ºèªé …ç›®
```
âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ç¢ºèªæŒ‡ç¤ºï¼š
ã€Œå®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š
1. http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ãƒšãƒ¼ã‚¸å³ä¸Šã«æ¥ç¶šçŠ¶æ…‹ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼š
   - ç·‘ã®â—ï¼šæ¥ç¶šä¸­
   - é»„ã®â—ï¼šæ¥ç¶šä¸­...
   - èµ¤ã®â—ï¼šåˆ‡æ–­
3. 5åˆ†é–“ãƒšãƒ¼ã‚¸ã‚’é–‹ã„ãŸã¾ã¾ã«ã™ã‚‹
4. 5åˆ†å¾Œã«ä»¥ä¸‹ãŒè‡ªå‹•çš„ã«èµ·ã“ã‚‹ï¼š
   - ã‚°ãƒ©ãƒ•ã«æ–°ã—ã„ãƒã‚¤ãƒ³ãƒˆãŒè¿½åŠ ã•ã‚Œã‚‹
   - æœ€æ–°ä¾¡æ ¼ãŒæ›´æ–°ã•ã‚Œã‚‹
   - ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰ã¯ä¸è¦
5. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ä¸€æ™‚åˆ‡æ–­ã—ã¦å†æ¥ç¶šï¼š
   - è‡ªå‹•çš„ã«å†æ¥ç¶šã•ã‚Œã‚‹
   - ãƒ‡ãƒ¼ã‚¿ã®æ¬ æãŒãªã„
6. **ã‚ºãƒ¼ãƒ çŠ¶æ…‹ã®ç¶­æŒã‚’ç¢ºèªï¼ˆé‡è¦ï¼‰**ï¼š
   - ã‚°ãƒ©ãƒ•ã‚’ã‚ºãƒ¼ãƒ ã¾ãŸã¯ãƒ‘ãƒ³ã—ãŸçŠ¶æ…‹ã§5åˆ†å¾…ã¤
   - æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ãŒè¿½åŠ ã•ã‚Œã¦ã‚‚ã‚ºãƒ¼ãƒ /ãƒ‘ãƒ³ä½ç½®ãŒç¶­æŒã•ã‚Œã‚‹
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œãŒä¸€åˆ‡ä¸­æ–­ã•ã‚Œãªã„

ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ãŒå‹•ä½œã—ã€ã‚ºãƒ¼ãƒ çŠ¶æ…‹ãŒç¶­æŒã•ã‚Œã‚Œã°OKã§ã™ï¼
â€»Pythonã‚¹ã‚¯ãƒ¬ãƒ¼ãƒ‘ãƒ¼ãŒå‹•ä½œã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€
```

---

### ç¬¬7æ®µéšï¼šé«˜åº¦ãªãƒ‡ãƒ¼ã‚¿ç®¡ç†ï¼ˆç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰ ğŸ¯é›£æ˜“åº¦: 65/100

#### ç›®æ¨™
ã‚°ãƒ©ãƒ•ã‚’ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦éå»ã®ãƒ‡ãƒ¼ã‚¿ã‚’å‹•çš„ã«å–å¾—ã™ã‚‹æ©Ÿèƒ½ã¨ã€åŠ¹ç‡çš„ãªãƒ¡ãƒ¢ãƒªç®¡ç†ã‚’å®Ÿè£…ã™ã‚‹ã€‚

#### è¨­è¨ˆæ–¹é‡
- **ç¬¬4æ®µéšã®å®Ÿè£…åŸºç›¤ã‚’æ´»ç”¨**
  - `onPanComplete`ã§å·¦ç«¯åˆ°é”ã‚’æ¤œçŸ¥
  - `updateDynamicScale`ã§ãƒ‡ãƒ¼ã‚¿è¿½åŠ å¾Œã®å†ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°
- **Xè»¸ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç®¡ç†ãŒé‡è¦**
  - ãƒ‡ãƒ¼ã‚¿ã‚’å·¦å´ã«è¿½åŠ ã™ã‚‹ã¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒãšã‚Œã‚‹
  - ç¾åœ¨ã®è¡¨ç¤ºä½ç½®ã‚’ç¶­æŒã™ã‚‹å‡¦ç†ãŒå¿…é ˆ

#### ã‚¿ã‚¹ã‚¯
- **å‹•çš„ãƒ‡ãƒ¼ã‚¿å–å¾—ã®å®Ÿè£…**
  ```javascript
  const handlePanComplete = ({ chart }) => {
    const xScale = chart.scales.x
    if (xScale.min <= 0) {
      // å·¦ç«¯åˆ°é”ã‚’æ¤œçŸ¥
      loadMoreData()
    }
  }
  ```
- **ãƒ‡ãƒ¼ã‚¿è¿½åŠ æ™‚ã®Xè»¸ä½ç½®èª¿æ•´**
  ```javascript
  const loadMoreData = async () => {
    const oldDataLength = sortedData.length
    const newData = await fetchOlderData()
    
    // ãƒ‡ãƒ¼ã‚¿ã‚’å·¦å´ã«è¿½åŠ 
    setSortedData([...newData, ...sortedData])
    
    // Xè»¸ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’èª¿æ•´ï¼ˆé‡è¦ï¼‰
    const chart = chartRef.current
    if (chart) {
      const addedCount = newData.length
      chart.options.scales.x.min += addedCount
      chart.options.scales.x.max += addedCount
      chart.update('none')  // å³åº§ã«åæ˜ 
    }
  }
  ```
- **ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒæ©Ÿèƒ½**
  - å·¦ç«¯ã®80%ã«åˆ°é”ã—ãŸã‚‰å…ˆèª­ã¿é–‹å§‹
  - `xScale.min < (dataLength * 0.2)`ã§åˆ¤å®š
- **ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼**
  - ãƒ‡ãƒ¼ã‚¿å–å¾—ä¸­ã®è¡¨ç¤º
  - ã‚°ãƒ©ãƒ•ä¸Šéƒ¨ã«å°ã•ãè¡¨ç¤º
- **ãƒ¡ãƒ¢ãƒªç®¡ç†ã®å®Ÿè£…**
  - å„æ™‚é–“è¶³ã§æœ€å¤§5000ä»¶ã¾ã§ä¿æŒ
  - 5000ä»¶ã‚’è¶…ãˆãŸã‚‰å³ç«¯ï¼ˆæ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ï¼‰ã‹ã‚‰å‰Šé™¤
  - Xè»¸ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®å†èª¿æ•´ãŒå¿…è¦

#### ç¢ºèªé …ç›®
```
âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ç¢ºèªæŒ‡ç¤ºï¼š
ã€Œå®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š
1. ã‚°ãƒ©ãƒ•ã‚’ãƒã‚¦ã‚¹ã§ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦å·¦ã«ç§»å‹•
2. å·¦ç«¯ã«åˆ°é”ã™ã‚‹ã¨è‡ªå‹•çš„ã«éå»ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
3. ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã¯ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹
4. å–å¾—å¾Œã€ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«éå»ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹
5. ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãŒå¢—ãˆã™ããªã„ï¼ˆ5000ä»¶åˆ¶é™ï¼‰
6. è¤‡æ•°å›ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ã‚‚å‹•ä½œãŒé‡ããªã‚‰ãªã„
7. æ™‚é–“è¶³ã‚’åˆ‡ã‚Šæ›¿ãˆã¦ã‚‚å„æ™‚é–“è¶³ã§ç‹¬ç«‹ã—ã¦ãƒ¡ãƒ¢ãƒªç®¡ç†ã•ã‚Œã‚‹

å‹•çš„ãƒ‡ãƒ¼ã‚¿å–å¾—ã¨ãƒ¡ãƒ¢ãƒªç®¡ç†ãŒæ­£ã—ãå‹•ä½œã™ã‚Œã°OKã§ã™ï¼ã€
```

---

### ç¬¬8æ®µéšï¼šUI/UXæœ€çµ‚èª¿æ•´ ğŸ¯é›£æ˜“åº¦: 40/100

#### ç›®æ¨™
ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã‚’å‘ä¸Šã•ã›ã€ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªè¦‹ãŸç›®ã«æœ€çµ‚èª¿æ•´ã™ã‚‹ã€‚

#### ã‚¿ã‚¹ã‚¯
- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ã®å®Ÿè£…
- ã‚¨ãƒ©ãƒ¼ç”»é¢ã®å®Ÿè£…ï¼ˆãƒ‡ãƒ¼ã‚¿å–å¾—å¤±æ•—æ™‚ï¼‰
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã®èª¿æ•´
- ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ç”¨ã®ç¸¦ç”»é¢å¯¾å¿œ
- ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆç”¨ã®æœ€é©åŒ–
- **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³æ”¹å–„**
  - ç·šãƒ™ãƒ¼ã‚¹ã®å½“ãŸã‚Šåˆ¤å®šï¼ˆChart.js interaction mode: 'index', intersect: falseï¼‰
  - ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã®æ”¹å–„ï¼ˆå®Ÿãƒ‡ãƒ¼ã‚¿å€¤ã®è¡¨ç¤ºï¼‰
  - Xè»¸ã«æ—¥ä»˜å¤‰æ›´ç‚¹ï¼ˆ0:00ï¼‰ã§æ—¥ä»˜è¡¨ç¤ºã‚’è¿½åŠ 
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

#### ç¢ºèªé …ç›®
```
âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®ç¢ºèªæŒ‡ç¤ºï¼š
ã€Œå®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š

ã€ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã€‘
1. http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
2. åˆå›ãƒ­ãƒ¼ãƒ‰æ™‚ã«ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹
3. å…¨ä½“çš„ã«ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªè¦‹ãŸç›®

ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³æ”¹å–„ã€‘
4. ã‚°ãƒ©ãƒ•ä¸Šã§ãƒã‚¦ã‚¹ã‚’æ¨ªã«å‹•ã‹ã™ã¨ç¸¦è»¸å…¨ä½“ã§ãƒ‡ãƒ¼ã‚¿ãŒé¸æŠã•ã‚Œã‚‹
5. ã‚°ãƒ©ãƒ•ã®Xè»¸ã‚’ãƒã‚¤ãƒ³ãƒˆã—ãªãã¦ã‚‚ã€ãã®æ™‚åˆ»ã®ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹
6. ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã§ã¯ãªãã€ç”»é¢ä¸Šéƒ¨ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã«æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œã‚‹
7. Xè»¸ã®0:00ã®ä½ç½®ã«æ—¥ä»˜ï¼ˆä¾‹ï¼š01/19ï¼‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹

ã€ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã€‘
8. ã‚¹ãƒãƒ›ã§ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆã¾ãŸã¯é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ãƒ¢ãƒã‚¤ãƒ«è¡¨ç¤ºï¼‰
9. ã‚°ãƒ©ãƒ•ãŒç”»é¢å¹…ã«åã¾ã‚‹
10. ãƒ†ã‚­ã‚¹ãƒˆãŒèª­ã¿ã‚„ã™ã„ã‚µã‚¤ã‚º
11. ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒã‚¹ãƒ ãƒ¼ã‚º
12. ã‚¿ãƒƒãƒ—æ“ä½œãŒå¿«é©

ã€ã‚¨ãƒ©ãƒ¼å‡¦ç†ã€‘
13. Supabaseæ¥ç¶šã‚’åˆ‡æ–­ï¼ˆç’°å¢ƒå¤‰æ•°ã‚’ä¸€æ™‚çš„ã«å¤‰æ›´ï¼‰
14. ã‚¨ãƒ©ãƒ¼ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹
15. ã€Œå†è©¦è¡Œã€ãƒœã‚¿ãƒ³ãŒæ©Ÿèƒ½ã™ã‚‹

ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€‘
16. Lighthouseã‚¹ã‚³ã‚¢90ä»¥ä¸Š
17. åˆå›è¡¨ç¤º3ç§’ä»¥å†…

å…¨ã¦ã®é …ç›®ãŒç¢ºèªã§ãã‚Œã°OKã§ã™ï¼ã€
```

---

## âš ï¸ å®Ÿè£…ä¸Šã®é‡è¦ãªæ³¨æ„äº‹é …

### 1. ç’°å¢ƒå¤‰æ•°ã®ç®¡ç†
- **NEXT_PUBLIC_SUPABASE_URL**: å¿…é ˆ
- **NEXT_PUBLIC_SUPABASE_ANON_KEY**: å¿…é ˆ
- ãƒ­ãƒ¼ã‚«ãƒ«ã¯`.env.local`ã€æœ¬ç•ªã¯Vercelã§è¨­å®š

### 2. ãƒ‡ãƒ¼ã‚¿ã®æ‰±ã„
- ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã¯Supabaseã«UTCã§ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ï¼ˆPythonã‚¹ã‚¯ãƒ¬ãƒ¼ãƒ‘ãƒ¼ã«ã‚ˆã‚‹ï¼‰
- **é‡è¦**: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¡¨ç¤ºæ™‚ã¯é©åˆ‡ã«ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å¤‰æ›ã‚’è¡Œã†
- group_idã¯ã€Œdefault-groupã€ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- å„æ™‚é–“è¶³ã®ãƒ‡ãƒ¼ã‚¿ã¯äº‹å‰é›†ç´„æ¸ˆã¿ï¼ˆã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ä¸è¦ï¼‰
- **ä¾¡æ ¼ãƒ‡ãƒ¼ã‚¿**: å„ãƒ¬ã‚³ãƒ¼ãƒ‰ã®`price`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä½¿ç”¨ï¼ˆã™ã§ã«å­˜åœ¨ï¼‰

### 3. ã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆæ™‚é–“è¶³ï¼‰ã®è¨­è¨ˆ
- **å®Ÿè£…ã™ã‚‹æ™‚é–“è¶³**: 5åˆ†è¶³ã€15åˆ†è¶³ã€30åˆ†è¶³ã€1æ™‚é–“è¶³ã€2æ™‚é–“è¶³ã€4æ™‚é–“è¶³ã€æ—¥è¶³ï¼ˆ7ç¨®é¡ï¼‰
- **é™¤å¤–ã™ã‚‹æ™‚é–“è¶³**: 1åˆ†è¶³ã¨3åˆ†è¶³ï¼ˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã®ãƒ­ãƒ¼ã‚«ãƒ«å°‚ç”¨ï¼‰
- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤**: 1æ™‚é–“è¶³ï¼ˆä¸­æœŸçš„ãªãƒˆãƒ¬ãƒ³ãƒ‰ã‚’æŠŠæ¡ã—ã‚„ã™ã„ï¼‰
- **é¸æŠçŠ¶æ…‹ã®ä¿æŒ**: LocalStorageã‚’ä½¿ç”¨ã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é¸æŠã‚’è¨˜æ†¶
- **ãƒ‡ãƒ¼ã‚¿å–å¾—æ–¹å¼**: 
  - åˆå›ã®ã¿å„æ™‚é–“è¶³ã®å°‚ç”¨ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰1000ä»¶å–å¾—
  - ä»¥é™ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä½¿ç”¨ï¼ˆé…å»¶èª­ã¿è¾¼ã¿ï¼‰
  - ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚ã«è¿½åŠ 1000ä»¶ãšã¤å–å¾—
- **ã‚°ãƒ©ãƒ•è¡¨ç¤ºä»•æ§˜**:
  - åˆæœŸè¡¨ç¤º: 1000ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
  - æœ€å¤§ä¿æŒ: 5000ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆï¼ˆãƒ¡ãƒ¢ãƒªç®¡ç†ï¼‰
  - ãƒ‡ãƒ¼ã‚¿ãŒ1000æœªæº€ã®å ´åˆã¯ã™ã¹ã¦è¡¨ç¤º

### 4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- **ãƒ‡ãƒ¼ã‚¿å–å¾—æˆ¦ç•¥**:
  - åˆæœŸãƒ­ãƒ¼ãƒ‰: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ™‚é–“è¶³1000ä»¶ã®ã¿å–å¾—
  - æ™‚é–“è¶³åˆ‡æ›¿: åˆå›ã®ã¿1000ä»¶å–å¾—ã€ä»¥é™ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä½¿ç”¨
  - å·¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚: è¿½åŠ ã§1000ä»¶ãšã¤å–å¾—
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥**:
  - å„æ™‚é–“è¶³ã”ã¨ã«ç‹¬ç«‹ã—ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥
  - ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰ã§ã‚¯ãƒªã‚¢
- **ãƒ¡ãƒ¢ãƒªç®¡ç†**:
  - å„æ™‚é–“è¶³ã§æœ€å¤§5000ä»¶ã¾ã§ä¿æŒ
  - è¶…éæ™‚ã¯å¤ã„ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰å‰Šé™¤
- **ã‚°ãƒ©ãƒ•è¡¨ç¤º**: 
  - åˆæœŸè¡¨ç¤º: æœ€æ–°250ä»¶ï¼ˆTradingView/MT5æ¨™æº–ï¼‰
  - ãƒ¡ãƒ¢ãƒªä¿æŒ: åˆæœŸ1000ä»¶ã€æœ€å¤§5000ä»¶
  - è¡¨ç¤ºã¨ãƒ¡ãƒ¢ãƒªã®åˆ†é›¢ã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- **ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤º**: ç¬¬2-5æ®µéšã®ã¿ï¼ˆç¬¬6æ®µéšã§å‰Šé™¤ï¼‰
- **ç›®æ¨™ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**:
  - åˆæœŸè¡¨ç¤º: 1ç§’ä»¥å†…ï¼ˆ1000ä»¶ã®ã¿ï¼‰
  - æ™‚é–“è¶³åˆ‡æ›¿: åˆå›1ç§’ä»¥å†…ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ™‚ã¯å³åº§
  - è¿½åŠ ãƒ‡ãƒ¼ã‚¿å–å¾—: 1ç§’ä»¥å†…

### 5. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- Row Level Security (RLS)ã¯ç¾åœ¨ç„¡åŠ¹
- å°†æ¥çš„ã«èªè¨¼æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹å ´åˆã¯æœ‰åŠ¹åŒ–
- Anon Keyã¯å…¬é–‹å¯èƒ½ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰

### 6. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã¨UIçŠ¶æ…‹ç®¡ç†
- **ã‚ºãƒ¼ãƒ /ãƒ‘ãƒ³çŠ¶æ…‹ã®ç¶­æŒãŒå¿…é ˆè¦ä»¶**
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã‚’ä¸­æ–­ã—ãªã„ã‚¹ãƒ ãƒ¼ã‚ºãªä½“é¨“
  - Chart.jsã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç›´æ¥æ“ä½œã«ã‚ˆã‚‹å®Ÿè£…
  - Reactå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’æœ€å°é™ã«æŠ‘ãˆã‚‹
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆã®åŸå‰‡**
  - forwardRefãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹å¤–éƒ¨æ“ä½œ
  - useImperativeHandleã§ã®ãƒ¡ã‚½ãƒƒãƒ‰å…¬é–‹
  - å†…éƒ¨ãƒ‡ãƒ¼ã‚¿å‚ç…§ã«ã‚ˆã‚‹çŠ¶æ…‹ç®¡ç†

## ğŸ”§ å®Ÿè£…è©³ç´°

### ãƒ‡ãƒ¼ã‚¿å–å¾—å®Ÿè£…

```javascript
// æ™‚é–“è¶³ã«å¿œã˜ãŸãƒ†ãƒ¼ãƒ–ãƒ«é¸æŠ
const getTableName = (timeframe) => {
  const tables = {
    '5min': 'order_book_5min',
    '15min': 'order_book_15min',
    '30min': 'order_book_30min',
    '1hour': 'order_book_1hour',
    '2hour': 'order_book_2hour',
    '4hour': 'order_book_4hour',
    '1day': 'order_book_daily'
  };
  return tables[timeframe];
}

// ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆåˆå›ãƒ»è¿½åŠ å…±é€šï¼‰
const fetchTimeframeData = async (timeframe, count = 1000, before = null) => {
  const tableName = getTableName(timeframe);
  let query = supabase
    .from(tableName)
    .select('*')
    .eq('group_id', 'default-group')
    .order('timestamp', { ascending: false })
    .limit(count);
  
  // éå»ãƒ‡ãƒ¼ã‚¿å–å¾—æ™‚
  if (before) {
    query = query.lt('timestamp', before);
  }
    
  const { data, error } = await query;
  if (error) throw error;
  return data;
}
```

### ã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£…

```javascript
// æ™‚é–“è¶³ã”ã¨ã®ãƒ‡ãƒ¼ã‚¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆæ‹¡å¼µç‰ˆï¼‰
const [dataCache, setDataCache] = useState({
  '5min': { data: [], oldestTimestamp: null },
  '15min': { data: [], oldestTimestamp: null },
  '30min': { data: [], oldestTimestamp: null },
  '1hour': { data: [], oldestTimestamp: null },
  '2hour': { data: [], oldestTimestamp: null },
  '4hour': { data: [], oldestTimestamp: null },
  '1day': { data: [], oldestTimestamp: null }
});

// æ™‚é–“è¶³åˆ‡æ›¿æ™‚ã®å‡¦ç†ï¼ˆé…å»¶èª­ã¿è¾¼ã¿ï¼‰
const handleTimeframeChange = async (timeframe) => {
  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚§ãƒƒã‚¯
  if (dataCache[timeframe].data.length > 0) {
    setDisplayData(dataCache[timeframe].data);
    return;
  }
  
  // åˆå›å–å¾—ï¼ˆ1000ä»¶ï¼‰
  const data = await fetchTimeframeData(timeframe, 1000);
  setDataCache(prev => ({
    ...prev,
    [timeframe]: {
      data: data,
      oldestTimestamp: data[data.length - 1]?.timestamp
    }
  }));
  setDisplayData(data);
}

// éå»ãƒ‡ãƒ¼ã‚¿è¿½åŠ å–å¾—ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚ï¼‰
const loadMoreData = async (timeframe) => {
  const cache = dataCache[timeframe];
  if (!cache.oldestTimestamp) return;
  
  // è¿½åŠ 1000ä»¶å–å¾—
  const moreData = await fetchTimeframeData(
    timeframe, 
    1000, 
    cache.oldestTimestamp
  );
  
  // ãƒ¡ãƒ¢ãƒªç®¡ç†ï¼ˆ5000ä»¶åˆ¶é™ï¼‰
  let newData = [...moreData, ...cache.data];
  if (newData.length > 5000) {
    newData = newData.slice(0, 5000);
  }
  
  setDataCache(prev => ({
    ...prev,
    [timeframe]: {
      data: newData,
      oldestTimestamp: moreData[moreData.length - 1]?.timestamp
    }
  }));
  setDisplayData(newData);
}
```

### çµ±åˆã‚°ãƒ©ãƒ•è¨­å®šä¾‹ï¼ˆç¬¬3ãƒ»4æ®µéšã®åŸºç›¤è¨­è¨ˆï¼‰

```javascript
// åˆæœŸè¡¨ç¤ºä»¶æ•°ã®å®šæ•°ï¼ˆTradingView/MT5æº–æ‹ ï¼‰
const INITIAL_DISPLAY_COUNT = 250

// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹é€ ï¼ˆç¬¬3æ®µéšã‹ã‚‰æº–å‚™ï¼‰
const UnifiedChart = forwardRef<UnifiedChartRef, UnifiedChartProps>(({ data }, ref) => {
  const chartRef = useRef<any>(null)
  const internalDataRef = useRef<InterpolatedOrderBookData[]>([])
  
  // å¤–éƒ¨æ“ä½œç”¨ãƒ¡ã‚½ãƒƒãƒ‰ã®å…¬é–‹
  useImperativeHandle(ref, () => ({
    addRealtimeData,  // ç¬¬6æ®µéšã§ä½¿ç”¨
    getChartInstance: () => chartRef.current
  }), [addRealtimeData])

// Reactã¨Chart.jsã®è²¬ä»»åˆ†é›¢ï¼ˆç¬¬4æ®µéšã®æ ¸å¿ƒï¼‰
// useMemoã§åˆæœŸãƒ‡ãƒ¼ã‚¿ã®ã¿è¨ˆç®—ã€å‹•çš„æ›´æ–°ã¯ã™ã¹ã¦Chart.jså†…éƒ¨ã§å‡¦ç†

// åˆæœŸã‚¹ã‚±ãƒ¼ãƒ«ã®è¨ˆç®—ï¼ˆå›ºå®šå€¤ã¨ã—ã¦ä½¿ç”¨ï¼‰
const scaleValues = useMemo(() => {
  const askRange = maxAsk - minAsk
  const bidRange = maxBid - minBid
  const maxRange = Math.max(askRange, bidRange) // å…±é€šã‚¹ã‚±ãƒ¼ãƒ«
  return { minAsk, maxAsk, minBid, maxBid, minPrice, maxPrice, maxRange }
}, [sortedData])

// ãƒ‡ãƒ¼ã‚¿ã®æ­£è¦åŒ–ï¼ˆåˆæœŸè¡¨ç¤ºç”¨ï¼‰
const normalizedAskData = sortedData.map(d => {
  // ASKï¼ˆå£²ã‚Šæ¿ï¼‰: 70-100ã®ç¯„å›²ï¼ˆä¸Šéƒ¨30%ï¼‰ã€åè»¢è¡¨ç¤ºã€å…±é€šã‚¹ã‚±ãƒ¼ãƒ«ä½¿ç”¨
  const normalizedValue = ((d.ask_total - scaleValues.minAsk) / scaleValues.maxRange) * 30
  return 100 - normalizedValue // åè»¢è¡¨ç¤º
})

const normalizedBidData = sortedData.map(d => {
  // BIDï¼ˆè²·ã„æ¿ï¼‰: 0-30ã®ç¯„å›²ï¼ˆä¸‹éƒ¨30%ï¼‰ã€å…±é€šã‚¹ã‚±ãƒ¼ãƒ«ä½¿ç”¨
  return ((d.bid_total - scaleValues.minBid) / scaleValues.maxRange) * 30
})

const normalizedPriceData = sortedData.map(d => {
  // ä¾¡æ ¼: 30-70ã®ç¯„å›²ï¼ˆä¸­å¤®40%ï¼‰
  const priceRange = scaleValues.maxPrice - scaleValues.minPrice || 1
  return ((d.price - scaleValues.minPrice) / priceRange) * 40 + 30
})

// 3ã¤ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’æŒã¤1ã¤ã®ã‚°ãƒ©ãƒ•
const chartData = {
  labels: timestamps,
  datasets: [
    {
      label: 'å£²ã‚Šæ¿',
      data: normalizedAskData,
      borderColor: 'rgb(248, 113, 113)',
      backgroundColor: 'rgba(248, 113, 113, 0.3)',
      fill: { target: { value: 100 }, above: 'rgba(248, 113, 113, 0.3)' },
      yAxisID: 'y',  // å·¦å´Yè»¸
      pointRadius: 0,  // ãƒãƒ¼ã‚«ãƒ¼éè¡¨ç¤º
      tension: 0.1,
      originalData: sortedData.map(d => d.ask_total)  // ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ç”¨
    },
    {
      label: 'è²·ã„æ¿',
      data: normalizedBidData,
      borderColor: 'rgb(74, 222, 128)',
      backgroundColor: 'rgba(74, 222, 128, 0.3)',
      fill: { target: { value: 0 }, below: 'rgba(74, 222, 128, 0.3)' },
      yAxisID: 'y',  // å·¦å´Yè»¸
      pointRadius: 0,  // ãƒãƒ¼ã‚«ãƒ¼éè¡¨ç¤º
      tension: 0.1,
      originalData: sortedData.map(d => d.bid_total)  // ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ç”¨
    },
    {
      label: 'ä¾¡æ ¼',
      data: normalizedPriceData,
      borderColor: '#ff9500',
      borderWidth: 3,
      fill: false,
      yAxisID: 'y2',  // å³å´Yè»¸
      pointRadius: 0,  // ãƒãƒ¼ã‚«ãƒ¼éè¡¨ç¤º
      tension: 0.1,
      originalData: sortedData.map(d => d.price)  // ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ç”¨
    }
  ]
};

const chartOptions = {
  plugins: {
    legend: {
      display: false  // å‡¡ä¾‹ã‚’éè¡¨ç¤º
    },
    tooltip: {
      // ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã§å®Ÿãƒ‡ãƒ¼ã‚¿å€¤ã‚’è¡¨ç¤º
      callbacks: {
        label: function(context) {
          const originalData = context.dataset.originalData
          const value = originalData[context.dataIndex]
          const label = context.dataset.label
          if (label.includes('ä¾¡æ ¼')) {
            return `${label}: $${value.toLocaleString()}`
          } else {
            return `${label}: ${value.toLocaleString()} BTC`
          }
        }
      }
    }
  },
  scales: {
    x: {
      // åˆæœŸè¡¨ç¤ºã‚’æœ€æ–°250ä»¶ã«åˆ¶é™ï¼ˆTradingView/MT5æº–æ‹ ï¼‰
      min: Math.max(0, sortedData.length - INITIAL_DISPLAY_COUNT),
      max: sortedData.length - 1,
      grid: {
        color: 'rgba(255, 255, 255, 0.1)'
      }
    },
    'y': {  // å·¦å´Yè»¸ï¼ˆASK/BIDç”¨ï¼‰
      position: 'left',
      min: 0,
      max: 100,
      grid: {
        color: 'rgba(255, 255, 255, 0.1)'
      },
      ticks: {
        color: '#999',
        callback: function(value) {
          // 70-100ã®ç¯„å›²ï¼ˆå£²ã‚Šæ¿ï¼‰ - åè»¢è¡¨ç¤º
          if (value >= 70 && value <= 100) {
            const actualValue = minAsk + ((100 - value) / 30) * maxRange
            // å®Ÿãƒ‡ãƒ¼ã‚¿æœ€å¤§å€¤ã‚’è¶…ãˆã‚‹å ´åˆã¯è¡¨ç¤ºã—ãªã„
            if (actualValue > maxAsk) return ''
            return Math.round(actualValue).toLocaleString()  // æ•°å­—ã®ã¿
          }
          // 0-30ã®ç¯„å›²ï¼ˆè²·ã„æ¿ï¼‰
          if (value >= 0 && value <= 30) {
            const actualValue = minBid + (value / 30) * maxRange
            // å®Ÿãƒ‡ãƒ¼ã‚¿æœ€å¤§å€¤ã‚’è¶…ãˆã‚‹å ´åˆã¯è¡¨ç¤ºã—ãªã„
            if (actualValue > maxBid) return ''
            return Math.round(actualValue).toLocaleString()  // æ•°å­—ã®ã¿
          }
          // ä¸­å¤®éƒ¨åˆ†ã¯è¡¨ç¤ºã—ãªã„
          return ''
        }
      }
    },
    'y2': {  // å³å´Yè»¸ï¼ˆä¾¡æ ¼ç”¨ï¼‰
      position: 'right',
      min: 0,
      max: 100,
      grid: {
        display: false  // å³å´Yè»¸ã®ã‚°ãƒªãƒƒãƒ‰ã¯éè¡¨ç¤º
      },
      ticks: {
        color: '#999',
        callback: function(value) {
          // 30-70ã®ç¯„å›²ï¼ˆä¾¡æ ¼ï¼‰ã®ã¿è¡¨ç¤º
          if (value >= 30 && value <= 70) {
            const actualValue = minPrice + ((value - 30) / 40) * (maxPrice - minPrice)
            return `$${Math.round(actualValue).toLocaleString()}`  // ä¾¡æ ¼ã®ã¿$ä»˜ã
          }
          return ''
        }
      }
    }
  }
};
```

### å‹•çš„ã‚¹ã‚±ãƒ¼ãƒ«èª¿æ•´å®Ÿè£…ï¼ˆç¬¬4æ®µéšã®æ ¸å¿ƒæ©Ÿèƒ½ï¼‰

```javascript
// Chart.jsã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç›´æ¥æ“ä½œã«ã‚ˆã‚‹å‹•çš„æ›´æ–°
// ã“ã®é–¢æ•°ã¯ç¬¬4æ®µéšã®ã‚ºãƒ¼ãƒ /ãƒ‘ãƒ³æ©Ÿèƒ½ã¨ç¬¬6æ®µéšã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã®ä¸¡æ–¹ã§æ´»ç”¨ã•ã‚Œã‚‹

// å‹•çš„ã‚¹ã‚±ãƒ¼ãƒ«æ›´æ–°é–¢æ•°
const updateDynamicScale = useCallback((chart: any) => {
  if (!chart || !sortedData.length) return
  
  // 1. è¡¨ç¤ºç¯„å›²ã®å–å¾—
  const xScale = chart.scales.x
  const min = Math.max(0, Math.floor(xScale.min))
  const max = Math.min(sortedData.length - 1, Math.ceil(xScale.max))
  const visibleData = sortedData.slice(min, max + 1)
  
  // 2. æ–°ã—ã„ã‚¹ã‚±ãƒ¼ãƒ«å€¤ã®è¨ˆç®—
  const askValues = visibleData.map(d => d.ask_total)
  const bidValues = visibleData.map(d => d.bid_total)
  const priceValues = visibleData.map(d => d.price)
  
  const minAsk = Math.min(...askValues)
  const maxAsk = Math.max(...askValues)
  const minBid = Math.min(...bidValues)
  const maxBid = Math.max(...bidValues)
  const minPrice = Math.min(...priceValues)
  const maxPrice = Math.max(...priceValues)
  
  const askRange = maxAsk - minAsk
  const bidRange = maxBid - minBid
  const maxRange = Math.max(askRange, bidRange) || 1
  
  // 3. ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ç›´æ¥æ›´æ–°ï¼ˆå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é¿ã‘ã‚‹ï¼‰
  const normalizedAskData = sortedData.map(d => {
    const normalizedValue = ((d.ask_total - minAsk) / maxRange) * 30
    return 100 - normalizedValue
  })
  
  chart.data.datasets[0].data = normalizedAskData
  chart.data.datasets[1].data = /* BIDè¨ˆç®— */
  chart.data.datasets[2].data = /* ä¾¡æ ¼è¨ˆç®— */
  
  // 4. Yè»¸ãƒ©ãƒ™ãƒ«ã®å‹•çš„æ›´æ–°
  chart.options.scales.y.ticks.callback = function(value) {
    const numValue = Number(value)
    if (numValue >= 70 && numValue <= 100) {
      const actualValue = minAsk + ((100 - numValue) / 30) * maxRange
      if (actualValue > maxAsk) return ''
      return Math.round(actualValue).toLocaleString()
    }
    // ... BIDç¯„å›²ã®å‡¦ç†
  }
  
  // 5. ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãªã—æ›´æ–°
  chart.update('none')
}, [sortedData])

// ã‚ºãƒ¼ãƒ ãƒ»ãƒ‘ãƒ³æ™‚ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨­å®š
const chartOptions = {
  plugins: {
    zoom: {
      pan: {
        enabled: true,
        mode: 'x',
        onPanComplete: ({ chart }) => {
          updateDynamicScale(chart)
          setIsZoomed(true)
        }
      },
      zoom: {
        wheel: { enabled: true, speed: 0.1 },
        mode: 'x',
        onZoomComplete: ({ chart }) => {
          updateDynamicScale(chart)
          setIsZoomed(true)
        }
      }
    }
  }
}
```

### UIæ”¹å–„å®Ÿè£…ï¼ˆç¬¬8æ®µéšï¼‰

```javascript
// 1. ç·šãƒ™ãƒ¼ã‚¹ã®å½“ãŸã‚Šåˆ¤å®šï¼ˆç¸¦è»¸å…¨ä½“ã§ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—è¡¨ç¤ºï¼‰
const chartOptions = {
  interaction: {
    mode: 'index',        // ç¸¦è»¸å…¨ä½“ãŒå½“ãŸã‚Šåˆ¤å®š
    intersect: false      // ãƒã‚¤ãƒ³ãƒˆä¸Šã§ãªãã¦ã‚‚OK
  },
  // ...ä»–ã®è¨­å®š
};

// 2. ãƒ˜ãƒƒãƒ€ãƒ¼æƒ…å ±è¡¨ç¤ºï¼ˆãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã®ä»£æ›¿ï¼‰
const [hoveredData, setHoveredData] = useState(null);

const chartOptions = {
  onHover: (event, activeElements) => {
    if (activeElements.length > 0) {
      const dataIndex = activeElements[0].index;
      setHoveredData({
        time: timestamps[dataIndex],
        ask: askData[dataIndex],
        bid: bidData[dataIndex],
        price: priceData[dataIndex]
      });
    }
  },
  plugins: {
    tooltip: {
      enabled: false  // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚’ç„¡åŠ¹åŒ–
    }
  }
};

// ãƒ˜ãƒƒãƒ€ãƒ¼è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
<div className="header-info">
  <span>æ™‚åˆ»: {hoveredData?.time || latestData.time}</span>
  <span>å£²ã‚Šæ¿: {hoveredData?.ask || latestData.ask}</span>
  <span>è²·ã„æ¿: {hoveredData?.bid || latestData.bid}</span>
  <span>ä¾¡æ ¼: {hoveredData?.price || latestData.price}</span>
</div>

// 3. Xè»¸ã«æ—¥ä»˜è¡¨ç¤ºã‚’è¿½åŠ 
const chartOptions = {
  scales: {
    x: {
      ticks: {
        callback: function(value, index) {
          const timestamp = timestamps[index];
          const time = timestamp.split('T')[1].substring(0, 5);
          
          // 0:00ã®å ´åˆã¯æ—¥ä»˜ã‚‚è¡¨ç¤º
          if (time === '00:00') {
            const date = timestamp.split('T')[0];
            const [year, month, day] = date.split('-');
            return `${month}/${day}`;
          }
          
          return time;
        },
        autoSkip: false,
        maxRotation: 45,
        minRotation: 45
      }
    }
  }
};
```

### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°å®Ÿè£…ï¼ˆã‚ºãƒ¼ãƒ çŠ¶æ…‹ç¶­æŒç‰ˆï¼‰

```javascript
// ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿å‡¦ç†ï¼ˆç¬¬6æ®µéšï¼‰
const handleRealtimeData = useCallback((newData: OrderBookData) => {
  // Chart.jsã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ç›´æ¥ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ï¼ˆã‚ºãƒ¼ãƒ çŠ¶æ…‹ã‚’ç¶­æŒï¼‰
  if (chartRef.current) {
    const interpolatedNewData: InterpolatedOrderBookData = {
      ...newData,
      isInterpolated: false
    }
    chartRef.current.addRealtimeData(interpolatedNewData)
  }
  
  // ReactçŠ¶æ…‹æ›´æ–°ã¯è¡¨ç¤ºç”¨ã®ã¿
  setLatestData(newData)
}, [])

// UnifiedChartå†…ã®addRealtimeDataãƒ¡ã‚½ãƒƒãƒ‰
const addRealtimeData = useCallback((newData: InterpolatedOrderBookData) => {
  const chart = chartRef.current
  if (!chart) return
  
  // Chart.jsã®ãƒ‡ãƒ¼ã‚¿ã‚’ç›´æ¥æ›´æ–°ï¼ˆReactã‚’ä»‹ã•ãªã„ï¼‰
  chart.data.labels.push(timeLabel)
  chart.data.datasets[0].data.push(normalizedAsk)
  chart.data.datasets[1].data.push(normalizedBid)
  chart.data.datasets[2].data.push(normalizedPrice)
  
  // ãƒ¡ãƒ¢ãƒªç®¡ç†ï¼ˆChart.jså†…éƒ¨ï¼‰
  if (chart.data.labels.length > MAX_POINTS) {
    chart.data.labels.shift()
    chart.data.datasets.forEach(dataset => dataset.data.shift())
  }
  
  // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãªã—æ›´æ–°ï¼ˆã‚ºãƒ¼ãƒ çŠ¶æ…‹ã‚’ç¶­æŒï¼‰
  chart.update('none')
}, [])

// Realtimeè³¼èª­è¨­å®š
const channel = supabase
  .channel(`${table}-changes`)
  .on('postgres_changes', config, (payload) => {
    handleRealtimeData(payload.new as OrderBookData)
  })
  .subscribe()
```

## ğŸ“Š ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ 

```sql
-- å„ãƒ†ãƒ¼ãƒ–ãƒ«å…±é€šã®æ§‹é€ 
CREATE TABLE order_book_[timeframe] (
  id SERIAL PRIMARY KEY,
  timestamp TIMESTAMP WITH TIME ZONE NOT NULL,
  ask_total NUMERIC NOT NULL,
  bid_total NUMERIC NOT NULL,
  price NUMERIC NOT NULL,
  group_id VARCHAR(50) DEFAULT 'default-group',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  UNIQUE(timestamp, group_id)
);

-- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
CREATE INDEX idx_[timeframe]_timestamp ON order_book_[timeframe](timestamp DESC);
CREATE INDEX idx_[timeframe]_group_id ON order_book_[timeframe](group_id);
```

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [Supabaseå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://supabase.com/docs)
- [Next.jså…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://nextjs.org/docs)
- [Chart.jså…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.chartjs.org/docs/)
- [chartjs-plugin-zoomå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.chartjs.org/chartjs-plugin-zoom/)
- [ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªä»•æ§˜æ›¸](./desktop-app-spec.md)

---

**ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å®Ÿè£…ã®é€²æ—ã«å¿œã˜ã¦æ›´æ–°ã—ã¦ãã ã•ã„ã€‚**